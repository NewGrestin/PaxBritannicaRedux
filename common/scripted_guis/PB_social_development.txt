scripted_gui = {
	PB_social_development_menu_open = {
		window_name = "PB_social_development_menu_open"
		context_type = player_context
		parent_window_name = countrypoliticsview

		effects = {
			PB_social_development_menu_open_button_click = {
				if = {
					limit = { has_country_flag = PB_social_development_menu_open }
					clr_country_flag = PB_social_development_menu_open
					custom_effect_tooltip = PB_social_development_menu_close_tt
				}
				else = {
					set_country_flag = PB_social_development_menu_open
					custom_effect_tooltip = PB_social_development_menu_open_tt
				}
			}
		}
	}

	PB_social_development_menu = {
		window_name = "PB_social_development_menu"
		context_type = player_context
		parent_window_name = "countrypoliticsview_anchor"
		visible = { has_country_flag = PB_social_development_menu_open }

		effects = {
			PB_social_development_menu_close_button_click = {
				if = {
					limit = { has_country_flag = PB_social_development_menu_open }
					clr_country_flag = PB_social_development_menu_open
					custom_effect_tooltip = PB_social_development_menu_close_tt
				}
				else = {
					set_country_flag = PB_social_development_menu_open
					custom_effect_tooltip = PB_social_development_menu_open_tt
				}
			}
		}

		triggers = {
			PB_social_development_poverty_rate_progress_bar_bad_visible = {
				check_variable = {
					social_development_poverty_rate_count < 0
				}
			}
			PB_social_development_industrialization_progress_bar_bad_visible = {
				check_variable = {
					social_development_industrialization_count < 0
				}
			}
			PB_social_development_literacy_progress_bar_bad_visible = {
				check_variable = {
					social_development_literacy_count < 0
				}
			}
			PB_social_development_economic_health_progress_bar_bad_visible = {
				check_variable = {
					social_development_economic_health_count < 0
				}
			}
			PB_social_development_military_modernization_progress_bar_bad_visible = {
				check_variable = {
					social_development_military_modernization_count < 0
				}
			}
			PB_social_development_civilization_status_progress_bar_bad_visible = {
				check_variable = {
					social_development_civilization_status_count < 0
				}
			}
		}

		properties = {
			PB_social_development_poverty_rate_progress_bar = {
				frame = social_development_poverty_rate_count
			}
			PB_social_development_industrialization_progress_bar = {
				frame = social_development_industrialization_count
			}
			PB_social_development_literacy_progress_bar = {
				frame = social_development_literacy_count
			}
			PB_social_development_economic_health_progress_bar = {
				frame = social_development_economic_health_count
			}
			PB_social_development_military_modernization_progress_bar = {
				frame = social_development_military_modernization_count
			}
			PB_social_development_civilization_status_progress_bar = {
				frame = social_development_civilization_status_count
			}
			PB_social_development_industrialization_progress_bar_bad = {
				frame = social_development_industrialization_count
			}
			PB_social_development_literacy_progress_bar_bad = {
				frame = social_development_literacy_count
			}
			PB_social_development_economic_health_progress_bar_bad = {
				frame = social_development_economic_health_count
			}
			PB_social_development_military_modernization_progress_bar_bad = {
				frame = social_development_military_modernization_count
			}
			PB_social_development_civilization_status_progress_bar_bad = {
				frame = social_development_civilization_status_count
			}
		}
	}

	PB_social_development_map_mode_toggle = {
		window_name = "PB_social_development_map_mode_toggle"
		context_type = player_context
		dirty = selected_social_development_map_mode_toggle
		mapmode = social_development_map_mode

		triggers = {
			toggle_social_development_map_mode_button_click_enabled = {
				check_variable = { var = selected_social_development_map_mode_toggle value = current_toggle compare = not_equals }
			}
			temp_array_calculator_click_enabled = {
				resize_temp_array = { social_development_map_mode_toggles_temp_array = 6 }
			}
		}

		properties = {
			#toggle_social_development_map_mode_button = {
			#	image = "GFX_social_development_map_mode_toggle_[?current_toggle]"
			#}
		}

		effects = {
			toggle_social_development_map_mode_button_click = {
				set_variable = { selected_social_development_map_mode_toggle = current_toggle }
				force_update_map_mode = {
					limit = { is_ai = no }
					mapmode = social_development_map_mode
				}
			}
		}

		dynamic_lists = {
			social_development_map_mode_toggles_gridbox = {
				array = social_development_map_mode_toggles_temp_array
				index = current_toggle
				entry_container = "social_development_map_mode_toggles_entry"
			}
		}

		ai_enabled = { always = no }
	}
}