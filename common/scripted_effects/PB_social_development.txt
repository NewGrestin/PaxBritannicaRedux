#PB_setup_social_development = {
#	# Europe
#		ENG = {
#			set_variable = { PB_social_development^constant:PB_social_development_categories.social_development_category_poverty.index = 3 }
#			set_variable = { PB_social_development^constant:PB_social_development_categories.social_development_category_industrialization.index = 3 }
#			set_variable = { PB_social_development^constant:PB_social_development_categories.social_development_category_literacy.index = 3 }
#			set_variable = { PB_social_development^constant:PB_social_development_categories.social_development_category_economic_health.index = 3 }
#			set_variable = { PB_social_development^constant:PB_social_development_categories.social_development_category_westernization.index = 2 }
#			set_variable = { PB_social_development^constant:PB_social_development_categories.social_development_category_military_modernization.index = 0 }
#		}
#		FRA = {
#			set_variable = { PB_social_development^constant:PB_social_development_categories.social_development_category_poverty.index = 1 }
#			set_variable = { PB_social_development^constant:PB_social_development_categories.social_development_category_industrialization.index = 3 }
#			set_variable = { PB_social_development^constant:PB_social_development_categories.social_development_category_literacy.index = 3 }
#			set_variable = { PB_social_development^constant:PB_social_development_categories.social_development_category_economic_health.index = 2 }
#			set_variable = { PB_social_development^constant:PB_social_development_categories.social_development_category_westernization.index = 2 }
#			set_variable = { PB_social_development^constant:PB_social_development_categories.social_development_category_military_modernization.index = 0 }
#		}
#
#	# Asia
#		
#
#	# Africa
#		
#
#	# North America
#		
#
#	# South America
#		
#
#	# Oceania
#		
#}
#
## set_temp_variable = { category = <constant> }
## set_temp_variable = { amount = <integer> }
#PB_social_development_progress_adjust = {
#	add_to_variable = { PB_social_development_progress^category = amount }
#	if = {
#		limit = {
#			OR = {
#				check_variable = { var = PB_social_development_progress^category value = 0 compare = less_than }
#				check_variable = { var = PB_social_development_progress^category value = 100 compare = greater_than_or_equals }
#			}
#		}
#		if = {
#			limit = {
#				check_variable = { var = PB_social_development_progress^category value = 0 compare = less_than_or_equals }
#			}
#			add_to_variable = { PB_social_development_progress^category = 100 }
#			add_to_variable = { PB_social_development^category = -1 }
#			hidden_effect = {
#				meta_effect = {
#					text = {
#						country_event = { id = PB_social_development.1[CATEGORY] days = 1 }
#					}
#					CATEGORY = "[?category]"
#				}
#			}
#		}
#		else = {
#			modulo_variable = { PB_social_development_progress^category = 100 }
#			add_to_variable = { PB_social_development^category = 1 }
#			hidden_effect = {
#				meta_effect = {
#					text = {
#						country_event = { id = PB_social_development.2[CATEGORY] days = 1 }
#					}
#					CATEGORY = "[?category]"
#				}
#			}
#		}
#	}
#	custom_effect_tooltip = PB_social_development_progress_adjust_tt
#}

increase_poverty_rate_level = {
    custom_effect_tooltip = increase_poverty_rate_level_tt
    if = {
        limit = {
            has_idea = PB_Overwhelming_Poverty
        }
        swap_ideas = {
            remove_idea = PB_Overwhelming_Poverty
            add_idea = PB_Rampant_Poverty
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Rampant_Poverty
        }
        swap_ideas = {
            remove_idea = PB_Rampant_Poverty
            add_idea = PB_Widespread_Poverty
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Widespread_Poverty
        }
        swap_ideas = {
            remove_idea = PB_Widespread_Poverty
            add_idea = PB_Significant_Poverty
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Significant_Poverty
        }
        swap_ideas = {
            remove_idea = PB_Significant_Poverty
            add_idea = PB_Limited_Poverty
        }
    }
}

decrease_poverty_rate_level = {
    custom_effect_tooltip = decrease_poverty_rate_level_tt
    if = {
        limit = {
            has_idea = PB_Limited_Poverty
        }
        swap_ideas = {
            remove_idea = PB_Limited_Poverty
            add_idea = PB_Significant_Poverty
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Significant_Poverty
        }
        swap_ideas = {
            remove_idea = PB_Significant_Poverty
            add_idea = PB_Widespread_Poverty
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Widespread_Poverty
        }
        swap_ideas = {
            remove_idea = PB_Widespread_Poverty
            add_idea = PB_Rampant_Poverty
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Rampant_Poverty
        }
        swap_ideas = {
            remove_idea = PB_Rampant_Poverty
            add_idea = PB_Overwhelming_Poverty
        }
    }
}

increase_industralization_level = {
    custom_effect_tooltip = increase_industralization_level_tt
    if = {
        limit = {
            has_idea = PB_Subsistence_Agriculture
        }
        swap_ideas = {
            remove_idea = PB_Subsistence_Agriculture
            add_idea = PB_Agrarianism
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Agrarianism
        }
        swap_ideas = {
            remove_idea = PB_Agrarianism
            add_idea = PB_Semi_Industrialized
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Semi_Industrialized
        }
        swap_ideas = {
            remove_idea = PB_Semi_Industrialized
            add_idea = PB_Industrialized
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Industrialized
        }
        swap_ideas = {
            remove_idea = PB_Industrialized
            add_idea = PB_Post_Industrial
        }
    }
}

decrease_industralization_level = {
    custom_effect_tooltip = decrease_industralization_level_tt
    if = {
        limit = {
            has_idea = PB_Post_Industrial
        }
        swap_ideas = {
            remove_idea = PB_Post_Industrial
            add_idea = PB_Industrialized
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Industrialized
        }
        swap_ideas = {
            remove_idea = PB_Industrialized
            add_idea = PB_Semi_Industrialized
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Semi_Industrialized
        }
        swap_ideas = {
            remove_idea = PB_Semi_Industrialized
            add_idea = PB_Agrarianism
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Agrarianism
        }
        swap_ideas = {
            remove_idea = PB_Agrarianism
            add_idea = PB_Subsistence_Agriculture
        }
    }
}

increase_literacy_level = {
    custom_effect_tooltip = increase_literacy_level_tt
    if = {
        limit = {
            has_idea = PB_Overwhelming_Illiteracy
        }
        swap_ideas = {
            remove_idea = PB_Overwhelming_Illiteracy
            add_idea = PB_Rampant_Illiteracy
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Rampant_Illiteracy
        }
        swap_ideas = {
            remove_idea = PB_Rampant_Illiteracy
            add_idea = PB_Significant_Illiteracy
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Significant_Illiteracy
        }
        swap_ideas = {
            remove_idea = PB_Significant_Illiteracy
            add_idea = PB_Minor_Illiteracy
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Minor_Illiteracy
        }
        swap_ideas = {
            remove_idea = PB_Minor_Illiteracy
            add_idea = PB_Illiteracy_Abolished
        }
    }
}

decrease_literacy_level = {
    custom_effect_tooltip = decrease_literacy_level_tt
    if = {
        limit = {
            has_idea = PB_Illiteracy_Abolished
        }
        swap_ideas = {
            remove_idea = PB_Illiteracy_Abolished
            add_idea = PB_Minor_Illiteracy
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Minor_Illiteracy
        }
        swap_ideas = {
            remove_idea = PB_Minor_Illiteracy
            add_idea = PB_Significant_Illiteracy
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Significant_Illiteracy
        }
        swap_ideas = {
            remove_idea = PB_Significant_Illiteracy
            add_idea = PB_Rampant_Illiteracy
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Rampant_Illiteracy
        }
        swap_ideas = {
            remove_idea = PB_Rampant_Illiteracy
            add_idea = PB_Overwhelming_Illiteracy
        }
    }
}

increase_economic_health_level = {
    custom_effect_tooltip = increase_economic_health_level_tt
    if = {
        limit = {
            has_idea = PB_Market_Apocalypse
        }
        swap_ideas = {
            remove_idea = PB_Market_Apocalypse
            add_idea = PB_Market_Panic
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Market_Panic
        }
        swap_ideas = {
            remove_idea = PB_Market_Panic
            add_idea = PB_Market_Underperformance
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Market_Underperformance
        }
        swap_ideas = {
            remove_idea = PB_Market_Underperformance
            add_idea = PB_Stagnating_Growth
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Stagnating_Growth
        }
        swap_ideas = {
            remove_idea = PB_Stagnating_Growth
            add_idea = PB_Middling_Consumer_Confidence
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Middling_Consumer_Confidence
        }
        swap_ideas = {
            remove_idea = PB_Middling_Consumer_Confidence
            add_idea = PB_Strong_Consumer_Confidence
        }
    }
}

decrease_economic_health_level = {
    custom_effect_tooltip = decrease_economic_health_level_tt
    if = {
        limit = {
            has_idea = PB_Strong_Consumer_Confidence
        }
        swap_ideas = {
            remove_idea = PB_Strong_Consumer_Confidence
            add_idea = PB_Middling_Consumer_Confidence
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Middling_Consumer_Confidence
        }
        swap_ideas = {
            remove_idea = PB_Middling_Consumer_Confidence
            add_idea = PB_Stagnating_Growth
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Stagnating_Growth
        }
        swap_ideas = {
            remove_idea = PB_Stagnating_Growth
            add_idea = PB_Market_Underperformance
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Market_Underperformance
        }
        swap_ideas = {
            remove_idea = PB_Market_Underperformance
            add_idea = PB_Market_Panic
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Market_Panic
        }
        swap_ideas = {
            remove_idea = PB_Market_Panic
            add_idea = PB_Market_Apocalypse
        }
    }
}

increase_military_modernization_level = {
    custom_effect_tooltip = increase_military_modernization_level_tt
    if = {
        limit = {
            has_idea = PB_Pre_Great_War_Army
        }
        swap_ideas = {
            remove_idea = PB_Pre_Great_War_Army
            add_idea = PB_Great_War_Military
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Great_War_Military
        }
        swap_ideas = {
            remove_idea = PB_Great_War_Military
            add_idea = PB_Semi_Modern_Military
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Semi_Modern_Military
        }
        swap_ideas = {
            remove_idea = PB_Semi_Modern_Military
            add_idea = PB_Fully_Modern_Military
        }
    }
}

decrease_military_modernization_level = {
    custom_effect_tooltip = decrease_military_modernization_level_tt
    if = {
        limit = {
            has_idea = PB_Fully_Modern_Military
        }
        swap_ideas = {
            remove_idea = PB_Fully_Modern_Military
            add_idea = PB_Semi_Modern_Military
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Semi_Modern_Military
        }
        swap_ideas = {
            remove_idea = PB_Semi_Modern_Military
            add_idea = PB_Great_War_Military
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Great_War_Military
        }
        swap_ideas = {
            remove_idea = PB_Great_War_Military
            add_idea = PB_Pre_Great_War_Army
        }
    }
}

increase_civilization_status_level = {
    custom_effect_tooltip = increase_civilization_status_level_tt
    if = {
        limit = {
            has_idea = PB_Uncivilized_Nation
        }
        swap_ideas = {
            remove_idea = PB_Uncivilized_Nation
            add_idea = PB_Partially_Westernized
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Partially_Westernized
        }
        swap_ideas = {
            remove_idea = PB_Partially_Westernized
            add_idea = PB_Fully_Westernized
        }
    }
}

decrease_civilization_status_level = {
    custom_effect_tooltip = decrease_civilization_status_level_tt
    if = {
        limit = {
            has_idea = PB_Fully_Westernized
        }
        swap_ideas = {
            remove_idea = PB_Fully_Westernized
            add_idea = PB_Partially_Westernized
        }
    }
    else_if = {
        limit = {
            has_idea = PB_Partially_Westernized
        }
        swap_ideas = {
            remove_idea = PB_Partially_Westernized
            add_idea = PB_Uncivilized_Nation
        }
    }
}

##effectivness = count
### IMMEDIATE CHANGE EFFECTS
poverty_rate_growth_progress_small = {
    custom_effect_tooltip = poverty_rate_growth_progress_small_tt
    add_to_variable = { social_development_poverty_rate_count = 2 }
    update_social_development = yes
}
poverty_rate_growth_progress_moderate = {
    custom_effect_tooltip = poverty_rate_growth_progress_moderate_tt
    add_to_variable = { social_development_poverty_rate_count = 4 }
    update_social_development = yes
}
poverty_rate_growth_progress_high = {
    custom_effect_tooltip = poverty_rate_growth_progress_high_tt
    add_to_variable = { social_development_poverty_rate_count = 6 }
    update_social_development = yes
}
poverty_rate_growth_regress_small = {
    custom_effect_tooltip = poverty_rate_growth_regress_small_tt
    add_to_variable = { social_development_poverty_rate_count = -2 }
    update_social_development = yes
}
poverty_rate_growth_regress_moderate = {
    custom_effect_tooltip = poverty_rate_growth_regress_moderate_tt
    add_to_variable = { social_development_poverty_rate_count = -4 }
    update_social_development = yes
}
poverty_rate_growth_regress_high = {
    custom_effect_tooltip = poverty_rate_growth_regress_high_tt
    add_to_variable = { social_development_poverty_rate_count = -6 }
    update_social_development = yes
}

industrialization_growth_progress_small = {
    custom_effect_tooltip = industrialization_growth_progress_small_tt
    add_to_variable = { social_development_industrialization_count = 2 }
    update_social_development = yes
}
industrialization_growth_progress_moderate = {
    custom_effect_tooltip = industrialization_growth_progress_moderate_tt
    add_to_variable = { social_development_industrialization_count = 4 }
    update_social_development = yes
}
industrialization_growth_progress_high = {
    custom_effect_tooltip = industrialization_growth_progress_high_tt
    add_to_variable = { social_development_industrialization_count = 6 }
    update_social_development = yes
}
industrialization_growth_regress_small = {
    custom_effect_tooltip = industrialization_growth_regress_small_tt
    add_to_variable = { social_development_industrialization_count = -2 }
    update_social_development = yes
}
industrialization_growth_regress_moderate = {
    custom_effect_tooltip = industrialization_growth_regress_moderate_tt
    add_to_variable = { social_development_industrialization_count = -4 }
    update_social_development = yes
}
industrialization_growth_regress_high = {
    custom_effect_tooltip = industrialization_growth_regress_high_tt
    add_to_variable = { social_development_industrialization_count = -6 }
    update_social_development = yes
}

literacy_growth_progress_small = {
    custom_effect_tooltip = literacy_growth_progress_small_tt
    add_to_variable = { social_development_literacy_count = 2 }
    update_social_development = yes
}
literacy_growth_progress_moderate = {
    custom_effect_tooltip = literacy_growth_progress_moderate_tt
    add_to_variable = { social_development_literacy_count = 4 }
    update_social_development = yes
}
literacy_growth_progress_high = {
    custom_effect_tooltip = literacy_growth_progress_high_tt
    add_to_variable = { social_development_literacy_count = 6 }
    update_social_development = yes
}
literacy_growth_regress_small = {
    custom_effect_tooltip = literacy_growth_regress_small_tt
    add_to_variable = { social_development_literacy_count = -2 }
    update_social_development = yes
}
literacy_growth_regress_moderate = {
    custom_effect_tooltip = literacy_growth_regress_moderate_tt
    add_to_variable = { social_development_literacy_count = -4 }
    update_social_development = yes
}
literacy_growth_regress_high = {
    custom_effect_tooltip = literacy_growth_regress_high_tt
    add_to_variable = { social_development_literacy_count = -6 }
    update_social_development = yes
}

economic_health_growth_progress_small = {
    custom_effect_tooltip = economic_health_growth_progress_small_tt
    add_to_variable = { social_development_economic_health_count = 2 }
    update_social_development = yes
}
economic_health_growth_progress_moderate = {
    custom_effect_tooltip = economic_health_growth_progress_moderate_tt
    add_to_variable = { social_development_economic_health_count = 4 }
    update_social_development = yes
}
economic_health_growth_progress_high = {
    custom_effect_tooltip = economic_health_growth_progress_high_tt
    add_to_variable = { social_development_economic_health_count = 6 }
    update_social_development = yes
}
economic_health_growth_regress_small = {
    custom_effect_tooltip = economic_health_growth_regress_small_tt
    add_to_variable = { social_development_economic_health_count = -2 }
    update_social_development = yes
}
economic_health_growth_regress_moderate = {
    custom_effect_tooltip = economic_health_growth_regress_moderate_tt
    add_to_variable = { social_development_economic_health_count = -4 }
    update_social_development = yes
}
economic_health_growth_regress_high = {
    custom_effect_tooltip = economic_health_growth_regress_high_tt
    add_to_variable = { social_development_economic_health_count = -6 }
    update_social_development = yes
}

military_modernization_growth_progress_small = {
    custom_effect_tooltip = military_modernization_growth_progress_small_tt
    add_to_variable = { social_development_military_modernization_count = 2 }
    update_social_development = yes
}
military_modernization_growth_progress_moderate = {
    custom_effect_tooltip = military_modernization_growth_progress_moderate_tt
    add_to_variable = { social_development_military_modernization_count = 4 }
    update_social_development = yes
}
military_modernization_growth_progress_high = {
    custom_effect_tooltip = military_modernization_growth_progress_high_tt
    add_to_variable = { social_development_military_modernization_count = 6 }
    update_social_development = yes
}
military_modernization_growth_regress_small = {
    custom_effect_tooltip = military_modernization_growth_regress_small_tt
    add_to_variable = { social_development_military_modernization_count = -2 }
    update_social_development = yes
}
military_modernization_growth_regress_moderate = {
    custom_effect_tooltip = military_modernization_growth_regress_moderate_tt
    add_to_variable = { social_development_military_modernization_count = -4 }
    update_social_development = yes
}
military_modernization_growth_regress_high = {
    custom_effect_tooltip = military_modernization_growth_regress_high_tt
    add_to_variable = { social_development_military_modernization_count = -6 }
    update_social_development = yes
}

civilization_status_growth_progress_small = {
    custom_effect_tooltip = civilization_status_growth_progress_small_tt
    add_to_variable = { social_development_civilization_status_count = 2 }
    update_social_development = yes
}
civilization_status_growth_progress_moderate = {
    custom_effect_tooltip = civilization_status_growth_progress_moderate_tt
    add_to_variable = { social_development_civilization_status_count = 4 }
    update_social_development = yes
}
civilization_status_growth_progress_high = {
    custom_effect_tooltip = civilization_status_growth_progress_high_tt
    add_to_variable = { social_development_civilization_status_count = 6 }
    update_social_development = yes
}
civilization_status_growth_regress_small = {
    custom_effect_tooltip = civilization_status_growth_regress_small_tt
    add_to_variable = { social_development_civilization_status_count = -2 }
    update_social_development = yes
}
civilization_status_growth_regress_moderate = {
    custom_effect_tooltip = civilization_status_growth_regress_moderate_tt
    add_to_variable = { social_development_civilization_status_count = -4 }
    update_social_development = yes
}
civilization_status_growth_regress_high = {
    custom_effect_tooltip = civilization_status_growth_regress_high_tt
    add_to_variable = { social_development_civilization_status_count = -6 }
    update_social_development = yes
}
### MONTHLY CHANGE EFFECTS
poverty_rate_growth_progress_monthly_small = {
    custom_effect_tooltip = poverty_rate_growth_progress_monthly_small_tt
    add_to_variable = { social_development_poverty_rate_monthly_change = 0.25 }
    update_social_development = yes
}
poverty_rate_growth_progress_monthly_moderate = {
    custom_effect_tooltip = poverty_rate_growth_progress_monthly_moderate_tt
    add_to_variable = { social_development_poverty_rate_monthly_change = 0.5 }
    update_social_development = yes
}
poverty_rate_growth_progress_monthly_high = {
    custom_effect_tooltip = poverty_rate_growth_progress_monthly_high_tt
    add_to_variable = { social_development_poverty_rate_monthly_change = 0.75 }
    update_social_development = yes
}
poverty_rate_growth_regress_small = {
    custom_effect_tooltip = poverty_rate_growth_regress_small_tt
    add_to_variable = { social_development_poverty_rate_monthly_change = -0.25 }
    update_social_development = yes
}
poverty_rate_growth_regress_moderate = {
    custom_effect_tooltip = poverty_rate_growth_regress_moderate_tt
    add_to_variable = { social_development_poverty_rate_monthly_change = -0.5 }
    update_social_development = yes
}
poverty_rate_growth_regress_high = {
    custom_effect_tooltip = poverty_rate_growth_regress_high_tt
    add_to_variable = { social_development_poverty_rate_monthly_change = -0.75 }
    update_social_development = yes
}

industrialization_growth_progress_monthly_small = {
    custom_effect_tooltip = industrialization_growth_progress_monthly_small_tt
    add_to_variable = { social_development_industrialization_monthly_change = 0.25 }
    update_social_development = yes
}
industrialization_growth_progress_monthly_moderate = {
    custom_effect_tooltip = industrialization_growth_progress_monthly_moderate_tt
    add_to_variable = { social_development_industrialization_monthly_change = 0.5 }
    update_social_development = yes
}
industrialization_growth_progress_monthly_high = {
    custom_effect_tooltip = industrialization_growth_progress_monthly_high_tt
    add_to_variable = { social_development_industrialization_monthly_change = 0.75 }
    update_social_development = yes
}
industrialization_growth_regress_small = {
    custom_effect_tooltip = industrialization_growth_regress_small_tt
    add_to_variable = { social_development_industrialization_monthly_change = -0.25 }
    update_social_development = yes
}
industrialization_growth_regress_moderate = {
    custom_effect_tooltip = industrialization_growth_regress_moderate_tt
    add_to_variable = { social_development_industrialization_monthly_change = -0.5 }
    update_social_development = yes
}
industrialization_growth_regress_high = {
    custom_effect_tooltip = industrialization_growth_regress_high_tt
    add_to_variable = { social_development_industrialization_monthly_change = -0.75 }
    update_social_development = yes
}

literacy_growth_progress_monthly_small = {
    custom_effect_tooltip = literacy_growth_progress_monthly_small_tt
    add_to_variable = { social_development_literacy_monthly_change = 0.25 }
    update_social_development = yes
}
literacy_growth_progress_monthly_moderate = {
    custom_effect_tooltip = literacy_growth_progress_monthly_moderate_tt
    add_to_variable = { social_development_literacy_monthly_change = 0.5 }
    update_social_development = yes
}
literacy_growth_progress_monthly_high = {
    custom_effect_tooltip = literacy_growth_progress_monthly_high_tt
    add_to_variable = { social_development_literacy_monthly_change = 0.75 }
    update_social_development = yes
}
literacy_growth_regress_small = {
    custom_effect_tooltip = literacy_growth_regress_small_tt
    add_to_variable = { social_development_literacy_monthly_change = -0.25 }
    update_social_development = yes
}
literacy_growth_regress_moderate = {
    custom_effect_tooltip = literacy_growth_regress_moderate_tt
    add_to_variable = { social_development_literacy_monthly_change = -0.5 }
    update_social_development = yes
}
literacy_growth_regress_high = {
    custom_effect_tooltip = literacy_growth_regress_high_tt
    add_to_variable = { social_development_literacy_monthly_change = -0.75 }
    update_social_development = yes
}

economic_health_growth_progress_monthly_small = {
    custom_effect_tooltip = economic_health_growth_progress_monthly_small_tt
    add_to_variable = { social_development_economic_health_monthly_change = 0.25 }
    update_social_development = yes
}
economic_health_growth_progress_monthly_moderate = {
    custom_effect_tooltip = economic_health_growth_progress_monthly_moderate_tt
    add_to_variable = { social_development_economic_health_monthly_change = 0.5 }
    update_social_development = yes
}
economic_health_growth_progress_monthly_high = {
    custom_effect_tooltip = economic_health_growth_progress_monthly_high_tt
    add_to_variable = { social_development_economic_health_monthly_change = 0.75 }
    update_social_development = yes
}
economic_health_growth_regress_small = {
    custom_effect_tooltip = economic_health_growth_regress_small_tt
    add_to_variable = { social_development_economic_health_monthly_change = -0.25 }
    update_social_development = yes
}
economic_health_growth_regress_moderate = {
    custom_effect_tooltip = economic_health_growth_regress_moderate_tt
    add_to_variable = { social_development_economic_health_monthly_change = -0.5 }
    update_social_development = yes
}
economic_health_growth_regress_high = {
    custom_effect_tooltip = economic_health_growth_regress_high_tt
    add_to_variable = { social_development_economic_health_monthly_change = -0.75 }
    update_social_development = yes
}

military_modernization_growth_progress_monthly_small = {
    custom_effect_tooltip = military_modernization_growth_progress_monthly_small_tt
    add_to_variable = { social_development_military_modernization_monthly_change = 0.25 }
    update_social_development = yes
}
military_modernization_growth_progress_monthly_moderate = {
    custom_effect_tooltip = military_modernization_growth_progress_monthly_moderate_tt
    add_to_variable = { social_development_military_modernization_monthly_change = 0.5 }
    update_social_development = yes
}
military_modernization_growth_progress_monthly_high = {
    custom_effect_tooltip = military_modernization_growth_progress_monthly_high_tt
    add_to_variable = { social_development_military_modernization_monthly_change = 0.75 }
    update_social_development = yes
}
military_modernization_growth_regress_small = {
    custom_effect_tooltip = military_modernization_growth_regress_small_tt
    add_to_variable = { social_development_military_modernization_monthly_change = -0.25 }
    update_social_development = yes
}
military_modernization_growth_regress_moderate = {
    custom_effect_tooltip = military_modernization_growth_regress_moderate_tt
    add_to_variable = { social_development_military_modernization_monthly_change = -0.5 }
    update_social_development = yes
}
military_modernization_growth_regress_high = {
    custom_effect_tooltip = military_modernization_growth_regress_high_tt
    add_to_variable = { social_development_military_modernization_monthly_change = -0.75 }
    update_social_development = yes
}

civilization_status_growth_progress_monthly_small = {
    custom_effect_tooltip = civilization_status_growth_progress_monthly_small_tt
    add_to_variable = { social_development_civilization_status_monthly_change = 0.25 }
    update_social_development = yes
}
civilization_status_growth_progress_monthly_moderate = {
    custom_effect_tooltip = civilization_status_growth_progress_monthly_moderate_tt
    add_to_variable = { social_development_civilization_status_monthly_change = 0.5 }
    update_social_development = yes
}
civilization_status_growth_progress_monthly_high = {
    custom_effect_tooltip = civilization_status_growth_progress_monthly_high_tt
    add_to_variable = { social_development_civilization_status_monthly_change = 0.75 }
    update_social_development = yes
}
civilization_status_growth_regress_small = {
    custom_effect_tooltip = civilization_status_growth_regress_small_tt
    add_to_variable = { social_development_civilization_status_monthly_change = -0.25 }
    update_social_development = yes
}
civilization_status_growth_regress_moderate = {
    custom_effect_tooltip = civilization_status_growth_regress_moderate_tt
    add_to_variable = { social_development_civilization_status_monthly_change = -0.5 }
    update_social_development = yes
}
civilization_status_growth_regress_high = {
    custom_effect_tooltip = civilization_status_growth_regress_high_tt
    add_to_variable = { social_development_civilization_status_monthly_change = -0.75 }
    update_social_development = yes
}


update_social_development = {
	clamp_social_development_variables = yes
	force_update_dynamic_modifier = yes
	if = {
		limit = { is_ai = no }
		add_to_variable = { PB_socdev_dirty = 1 }
	}
}

set_starting_social_development_variables = {

	set_variable = { social_development_poverty_rate_monthly_change = 0 }
	set_variable = { social_development_industrialization_monthly_change = 0 }
	set_variable = { social_development_literacy_monthly_change = 0 }
	set_variable = { social_development_economic_health_monthly_change = 0 }
	set_variable = { social_development_military_modernization_monthly_change = 0 }
	set_variable = { social_development_civilization_status_monthly_change = 0 }

	set_variable = { social_development_poverty_rate_count = 0 }
	set_variable = { social_development_industrialization_count = 0 }
	set_variable = { social_development_literacy_count = 0 }
	set_variable = { social_development_economic_health_count = 0 }
	set_variable = { social_development_military_modernization_count = 0 }
	set_variable = { social_development_civilization_status_count = 0 }

    update_social_development = yes
}

every_country_socdev_variables = {
    every_country = {
        set_starting_social_development_variables = yes
    }
}
social_development_variables_monthly_tick = {
    calculate_socdev_additional = yes
    add_to_temp_variable = { social_development_military_modernization_count = socdev_mil_industry_base }
    add_to_temp_variable = { social_development_economic_health_count = socdev_civ_industry_base }

	add_to_variable = { social_development_poverty_rate_count = social_development_poverty_rate_monthly_change }
	add_to_variable = { social_development_industrialization_count = social_development_industrialization_monthly_change }
	add_to_variable = { social_development_literacy_count = social_development_literacy_monthly_change }
	add_to_variable = { social_development_economic_health_count = social_development_economic_health_monthly_change }
	add_to_variable = { social_development_military_modernization_count = social_development_military_modernization_monthly_change }
	add_to_variable = { social_development_civilization_status_count = social_development_civilization_status_monthly_change }

	add_to_variable = { social_development_poverty_rate_count = modifier@social_development_poverty_rate_growth_monthly }
	add_to_variable = { social_development_industrialization_count = modifier@social_development_industralization_growth_monthly }
	add_to_variable = { social_development_literacy_count = modifier@social_development_literacy_growth_monthly }
	add_to_variable = { social_development_economic_health_count = modifier@social_development_economic_health_growth_monthly }
	add_to_variable = { social_development_military_modernization_count = modifier@social_development_military_modernization_growth_monthly }
	add_to_variable = { social_development_civilization_status_count = modifier@social_development_civilization_status_growth_monthly }

    update_social_development = yes


    #subtract_from_variable = { social_development_military_modernization_monthly_change = socdev_mil_industry_base } ## resets value so it doesnt add up every month
}
clamp_social_development_variables = {
	clamp_variable = { var = social_development_poverty_rate_count min = -100 max = 100  }
	clamp_variable = { var = social_development_industrialization_count min = -100 max = 100}
	clamp_variable = { var = social_development_literacy_count min = -100 max = 100 }
	clamp_variable = { var = social_development_economic_health_count min = -100 max = 100 }
	clamp_variable = { var = social_development_military_modernization_count min = -100 max = 100 }
	clamp_variable = { var = social_development_civilization_status_count min = -100 max = 100 }

	clamp_variable = { var = social_development_poverty_rate_monthly_change min = -100 max = 100  }
	clamp_variable = { var = social_development_industrialization_monthly_change min = -100 max = 100}
	clamp_variable = { var = social_development_literacy_monthly_change min = -100 max = 100 }
	clamp_variable = { var = social_development_economic_health_monthly_change min = -100 max = 100 }
	clamp_variable = { var = social_development_military_modernization_monthly_change min = -100 max = 100 }
	clamp_variable = { var = social_development_civilization_status_monthly_change min = -100 max = 100 }
}
social_development_monthly_effect = {
	social_development_variables_monthly_tick = yes

	if = {
		limit = {
			 check_variable = { social_development_poverty_rate_count > 99.99 } 
			 NOT = { has_idea = PB_Limited_Poverty }
			}
		increase_poverty_rate_level = yes
		country_event = PB_social_development.20
		add_to_variable = { social_development_poverty_rate_count = -100 }
		multiply_variable = { social_development_poverty_rate_monthly_change = 0.25 }
	}
	else_if = {
		limit = {
			 check_variable = { social_development_poverty_rate_count < -99.99 } 
			 NOT = {has_idea = PB_Overwhelming_Poverty }
			}
		decrease_poverty_rate_level = yes
		country_event = PB_social_development.10
		add_to_variable = { social_development_poverty_rate_count = 100 }
		multiply_variable = { social_development_poverty_rate_monthly_change = 0.25 }
	}


	if = {
		limit = {
			check_variable = { social_development_industrialization_count > 99.99 } 
			NOT = { has_idea = PB_Post_Industrial }
		   }
		increase_industralization_level = yes
		country_event = PB_social_development.21
		add_to_variable = { social_development_industrialization_count = -100 }
		multiply_variable = { social_development_industrialization_monthly_change = 0.25 }
	}
	else_if = {
		limit = {
			check_variable = { social_development_industrialization_count < -99.99 } 
			NOT = {has_idea = PB_Subsistence_Agriculture }
		   }
		decrease_industralization_level = yes
		country_event = PB_social_development.11
		add_to_variable = { social_development_industrialization_count = 100 }
		multiply_variable = { social_development_industrialization_monthly_change = 0.25 }
	}

	if = {
		limit = {
			check_variable = { social_development_literacy_count > 99.99 } 
			NOT = { has_idea = PB_Illiteracy_Abolished }
		   }
		increase_literacy_level = yes
		country_event = PB_social_development.22
		add_to_variable = { social_development_literacy_count = -100 }
		multiply_variable = { social_development_literacy_monthly_change = 0.25 }
	}
	else_if = {
		limit = {
			check_variable = { social_development_literacy_count < -99.99 } 
			NOT = {has_idea = PB_Overwhelming_Illiteracy }
		   }
		decrease_literacy_level = yes
		country_event = PB_social_development.12
		add_to_variable = { social_development_literacy_count = 100 }
		multiply_variable = { social_development_literacy_monthly_change = 0.25 }
	}

	if = {
		limit = {
			check_variable = { social_development_economic_health_count > 99.99 } 
			NOT = { has_idea = PB_Strong_Consumer_Confidence }
		   }
		increase_economic_health_level = yes
		country_event = PB_social_development.23
		add_to_variable = { social_development_economic_health_count = -100 }
		multiply_variable = { social_development_economic_health_monthly_change = 0.25 }
	}
	else_if = {
		limit = {
			check_variable = { social_development_economic_health_count < -99.99 } 
			NOT = {has_idea = PB_Market_Apocalypse }
		   }
		decrease_economic_health_level = yes
		country_event = PB_social_development.13
		add_to_variable = { social_development_economic_health_count = 100 }
		multiply_variable = { social_development_economic_health_monthly_change = 0.25 }
	}

	if = {
		limit = {
			check_variable = { social_development_military_modernization_count > 99.99 } 
			NOT = { has_idea = PB_Fully_Modern_Military }
		   }
		increase_military_modernization_level = yes
		country_event = PB_social_development.24
		add_to_variable = { social_development_military_modernization_count = -100 }
		multiply_variable = { social_development_military_modernization_monthly_change = 0.25 }
	}
	else_if = {
		limit = {
			check_variable = { social_development_military_modernization_count < -99.99 } 
			NOT = { has_idea = PB_Pre_Great_War_Army }
		   }
		decrease_military_modernization_level = yes
		country_event = PB_social_development.14
		add_to_variable = { social_development_military_modernization_count = 100 }
		multiply_variable = { social_development_military_modernization_monthly_change = 0.25 }
	}

	if = {
		limit = {
			check_variable = { social_development_civilization_status_count > 99.99 } 
			NOT = { has_idea = PB_Fully_Westernized }
		   }
		increase_civilization_status_level = yes
		country_event = PB_social_development.25
		add_to_variable = { social_development_civilization_status_count = -100 }
		multiply_variable = { social_development_civilization_status_monthly_change = 0.25 }
	}
	else_if = {
		limit = {
			check_variable = { social_development_civilization_status_count < -99.99 } 
			NOT = { has_idea = PB_Uncivilized_Nation }
		   }
		decrease_civilization_status_level = yes
		country_event = PB_social_development.15
		add_to_variable = { social_development_civilization_status_count = 100 }
		multiply_variable = { social_development_civilization_status_monthly_change = 0.25 }
	}

	force_update_map_mode = {
		mapmode = social_development_map_mode
	}
}

calculate_social_development = {
	set_variable = { social_development_poverty_rate_count_actual = social_development_poverty_rate_count }
	set_variable = { social_development_industrialization_count_actual = social_development_industrialization_count }
	set_variable = { social_development_literacy_count_actual = social_development_literacy_count }
	set_variable = { social_development_economic_health_count_actual = social_development_economic_health_count }
	set_variable = { social_development_military_modernization_count_actual = social_development_military_modernization_count }
	set_variable = { social_development_civilization_status_count_actual = social_development_civilization_status_count }
}
calculate_socdev_additional = {
    calculate_socdev_military_industry = yes
    calculate_socdev_civilian_industry = yes
}
calculate_socdev_military_industry = {
    # remove last month gain before recalculating to avoid stacking values
    subtract_from_variable = { social_development_military_modernization_monthly_change = last_socdev_mil_industry_base }
    # initialize base values
    set_variable = { socdev_mil_industry_base_core = 1 }
    set_variable = { socdev_mil_industry_base_owned = 1 }
    set_variable = { socdev_mil_industry_base_occupied = 1 }
    # multiply by number of military factories
    multiply_variable = { socdev_mil_industry_base_core = num_of_military_factories }
    multiply_variable = { socdev_mil_industry_base_owned = num_of_military_factories }
    multiply_variable = { socdev_mil_industry_base_occupied = num_of_military_factories }
    log = "Before division — core:[?socdev_mil_industry_base_core] owned:[?socdev_mil_industry_base_owned] occupied:[?socdev_mil_industry_base_occupied]"
    divide_variable = { socdev_mil_industry_base_core = num_core_states }
    divide_variable = { socdev_mil_industry_base_owned = num_owned_states }
    divide_variable = { socdev_mil_industry_base_occupied = num_occupied_states }
    log = "After division — core:[?socdev_mil_industry_base_core] owned:[?socdev_mil_industry_base_owned] occupied:[?socdev_mil_industry_base_occupied]"
    # calculate weights
    multiply_variable = { socdev_mil_industry_base_core = 0.2 }
    multiply_variable = { socdev_mil_industry_base_owned = 0.1 }
    multiply_variable = { socdev_mil_industry_base_occupied = 0.05 }
    log = "After weighting — core:[?socdev_mil_industry_base_core] owned:[?socdev_mil_industry_base_owned] occupied:[?socdev_mil_industry_base_occupied]"
    # combine all into socdev_mil_industry_base
    set_variable = { socdev_mil_industry_base = 0 }
    add_to_variable = { socdev_mil_industry_base = socdev_mil_industry_base_core }
    add_to_variable = { socdev_mil_industry_base = socdev_mil_industry_base_owned }
    add_to_variable = { socdev_mil_industry_base = socdev_mil_industry_base_occupied }
    log = "Final socdev_mil_industry_base: [?socdev_mil_industry_base]"
     # add this month value to the monthly change
    add_to_variable = { social_development_military_modernization_monthly_change = socdev_mil_industry_base }
    # store this for next month to subtract to avoid stacking
    set_variable = { last_socdev_mil_industry_base = socdev_mil_industry_base }
}

calculate_socdev_civilian_industry = {
    # remove last month gain before recalculating to avoid stacking values
    subtract_from_variable = { social_development_economic_health_monthly_change = last_socdev_civ_industry_base }
    # initialize base values
    set_variable = { socdev_civ_industry_base_core = 1 }
    set_variable = { socdev_civ_industry_base_owned = 1 }
    set_variable = { socdev_civ_industry_base_occupied = 1 }
    # multiply by number of civilian factories
    multiply_variable = { socdev_civ_industry_base_core = num_of_civilian_factories }
    multiply_variable = { socdev_civ_industry_base_owned = num_of_civilian_factories }
    multiply_variable = { socdev_civ_industry_base_occupied = num_of_civilian_factories }
    log = "Before division — core:[?socdev_civ_industry_base_core] owned:[?socdev_civ_industry_base_owned] occupied:[?socdev_civ_industry_base_occupied]"
    divide_variable = { socdev_civ_industry_base_core = num_core_states }
    divide_variable = { socdev_civ_industry_base_owned = num_owned_states }
    divide_variable = { socdev_civ_industry_base_occupied = num_occupied_states }
    log = "After division — core:[?socdev_civ_industry_base_core] owned:[?socdev_civ_industry_base_owned] occupied:[?socdev_civ_industry_base_occupied]"
    # calculate weights
    multiply_variable = { socdev_civ_industry_base_core = 0.2 }
    multiply_variable = { socdev_civ_industry_base_owned = 0.1 }
    multiply_variable = { socdev_civ_industry_base_occupied = 0.05 }
    log = "After weighting — core:[?socdev_civ_industry_base_core] owned:[?socdev_civ_industry_base_owned] occupied:[?socdev_civ_industry_base_occupied]"
    # combine all into socdev_civ_industry_base
    set_variable = { socdev_civ_industry_base = 0 }
    add_to_variable = { socdev_civ_industry_base = socdev_civ_industry_base_core }
    add_to_variable = { socdev_civ_industry_base = socdev_civ_industry_base_owned }
    add_to_variable = { socdev_civ_industry_base = socdev_civ_industry_base_occupied }
    log = "Final socdev_civ_industry_base: [?socdev_civ_industry_base]"
    # add this month value to the monthly change
    add_to_variable = { social_development_economic_health_monthly_change = socdev_civ_industry_base }
    # store this for next month to subtract to avoid stacking
    set_variable = { last_socdev_civ_industry_base = socdev_civ_industry_base }
}