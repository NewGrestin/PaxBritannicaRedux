#Important to put HIGHEST first

PB_POL_Increse_Namiestnik_Support = {
custom_effect_tooltip = PB_POL_Increse_Namiestnik_Support_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Namiestniks_Support
            value = 10
        }
        clamp_variable = {
            var = POL_Namiestniks_Support
            min = 0
            max = 100
        }
		POL_namiestnik_calculations = yes
	}
}

PB_POL_Decrease_Namiestnik_Support = {
custom_effect_tooltip = PB_POL_Decrease_Namiestnik_Support_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Namiestniks_Support
            value = -10
        }
        clamp_variable = {
            var = POL_Namiestniks_Support
            min = 0
            max = 100
        }
		POL_namiestnik_calculations = yes
	}
}

PB_POL_Increse_Radicals_Support = {
custom_effect_tooltip = PB_POL_Increse_Radicals_Support_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Radicals_Support
            value = 10
        }
        clamp_variable = {
            var = POL_Radicals_Support
            min = 0
            max = 100
        }
		POL_radicals_calculations = yes
	}
}

PB_POL_Decrease_Radicals_Support = {
custom_effect_tooltip = PB_POL_Decrease_Radicals_Support_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Radicals_Support
            value = -10
        }
        clamp_variable = {
            var = POL_Radicals_Support
            min = 0
            max = 100
        }
		POL_radicals_calculations = yes
	}
}

PB_POL_Increse_Moderates_Support = {
custom_effect_tooltip = PB_POL_Increse_Moderates_Support_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Modarates_Support
            value = 10
        }
        clamp_variable = {
            var = POL_Modarates_Support
            min = 0
            max = 100
        }
		POL_moderates_calculations = yes
	}
}

PB_POL_Decrease_Moderates_Support = {
custom_effect_tooltip = PB_POL_Decrease_Moderates_Support_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Modarates_Support
            value = -10
        }
        clamp_variable = {
            var = POL_Modarates_Support
            min = 0
            max = 100
        }
		POL_moderates_calculations = yes
	}
}

PB_POL_Increse_Conservatives_Support = {
custom_effect_tooltip = PB_POL_Increse_Conservatives_Support_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Conservatives_Support
            value = 10
        }
        clamp_variable = {
            var = POL_Conservatives_Support
            min = 0
            max = 100
        }
		POL_conservatives_calculations = yes
	}
}

PB_POL_Decrease_Conservatives_Support = {
custom_effect_tooltip = PB_POL_Decrease_Conservatives_Support_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Conservatives_Support
            value = -10
        }
        clamp_variable = {
            var = POL_Conservatives_Support
            min = 0
            max = 100
        }
		POL_conservatives_calculations = yes
	}
}

PB_POL_Increse_Industralists_Support = {
custom_effect_tooltip = PB_POL_Increse_Industralists_Support_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Industralist_Support
            value = 10
        }
        clamp_variable = {
            var = POL_Industralist_Support
            min = 0
            max = 100
        }
		POL_industrialists_calculations = yes
	}
}

PB_POL_Decrease_Industrialists_Support = {
custom_effect_tooltip = PB_POL_Decrease_Industrialists_Support_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Industralist_Support
            value = -10
        }
        clamp_variable = {
            var = POL_Industralist_Support
            min = 0
            max = 100
        }
		POL_industrialists_calculations = yes
	}
}

PB_POL_Increse_Namiestnik_Influence = {
custom_effect_tooltip = PB_POL_Increse_Namiestnik_Influence_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Namiestniks_Influence
            value = 10
        }
        clamp_variable = {
            var = POL_Namiestniks_Influence
            min = 0
            max = 100
        }
		POL_inf_calculations = yes
	}
}

PB_POL_Decrease_Namiestnik_Influence = {
custom_effect_tooltip = PB_POL_Decrease_Namiestnik_Influence_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Namiestniks_Influence
            value = -10
        }
        clamp_variable = {
            var = POL_Namiestniks_Influence
            min = 0
            max = 100
        }
		POL_inf_calculations = yes
	}
}

PB_POL_Increse_Radicals_Influence = {
custom_effect_tooltip = PB_POL_Increse_Radicals_Influence_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Radicals_Influence
            value = 10
        }
        clamp_variable = {
            var = POL_Radicals_Influence
            min = 0
            max = 100
        }
		POL_inf_calculations = yes
	}
}

PB_POL_Decrease_Radicals_Influence = {
custom_effect_tooltip = PB_POL_Decrease_Radicals_Influence_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Radicals_Influence
            value = -10
        }
        clamp_variable = {
            var = POL_Radicals_Influence
            min = 0
            max = 100
        }
		POL_inf_calculations = yes
	}
}

PB_POL_Increse_Moderates_Influence = {
custom_effect_tooltip = PB_POL_Increse_Moderates_Influence_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Modarates_Influence
            value = 10
        }
        clamp_variable = {
            var = POL_Modarates_Influence
            min = 0
            max = 100
        }
		POL_inf_calculations = yes
	}
}

PB_POL_Decrease_Moderates_Influence = {
custom_effect_tooltip = PB_POL_Decrease_Moderates_Influence_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Modarates_Influence
            value = -10
        }
        clamp_variable = {
            var = POL_Modarates_Influence
            min = 0
            max = 100
        }
		POL_inf_calculations = yes
	}
}

PB_POL_Increse_Conservatives_Influence = {
custom_effect_tooltip = PB_POL_Increse_Conservatives_Influence_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Conservatives_Influence
            value = 10
        }
        clamp_variable = {
            var = POL_Conservatives_Influence
            min = 0
            max = 100
        }
		POL_inf_calculations = yes
	}
}

PB_POL_Decrease_Conservatives_Influence = {
custom_effect_tooltip = PB_POL_Decrease_Conservatives_Influence_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Conservatives_Influence
            value = -10
        }
        clamp_variable = {
            var = POL_Conservatives_Influence
            min = 0
            max = 100
        }
		POL_inf_calculations = yes
	}
}

PB_POL_Increse_Industralists_Influence = {
custom_effect_tooltip = PB_POL_Increse_Industralists_Influence_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Industralist_Influence
            value = 10
        }
        clamp_variable = {
            var = POL_Industralist_Influence
            min = 0
            max = 100
        }
		POL_inf_calculations = yes
	}
}

PB_POL_Decrease_Industrialists_Influence = {
custom_effect_tooltip = PB_POL_Decrease_Industrialists_Influence_tt
	hidden_effect = {
        add_to_variable = {
            var = POL_Industralist_Influence
            value = -10
        }
        clamp_variable = {
            var = POL_Industralist_Influence
            min = 0
            max = 100
        }
		POL_inf_calculations = yes
	}
}

# Calculations

POL_namiestnik_calculations = {

    #Stability

    set_temp_variable = { nami_stability_variable_temp = POL_Namiestniks_Support }
    divide_temp_variable = { nami_stability_variable_temp = 5 } #getdivision of five
    round_temp_variable = nami_stability_variable_temp #round it to clear maths
    divide_temp_variable = { nami_stability_variable_temp = 100 } #make it a decimal

    set_temp_variable = { nami_stability_variable2 = -0.1 } #maths2 is the secondary operation and represents 0 aka -10%
    add_to_temp_variable = { nami_stability_variable2 = nami_stability_variable_temp } #Subtract the decimal divsion of 5 from -0.10 will get it probably
    set_variable = { nami_stability_variable = nami_stability_variable2 }

    # Efficiency Max

    set_temp_variable = { nami_effiency_variable_temp = POL_Namiestniks_Support }
    divide_temp_variable = { nami_effiency_variable_temp = 10 } #getdivision of five
    round_temp_variable = nami_effiency_variable_temp #round it to clear maths
    divide_temp_variable = { nami_effiency_variable_temp = 100 } #make it a decimal

    set_temp_variable = { nami_effiency_variable2 = -0.05 } #maths2 is the secondary operation and represents 0 aka -10%
    add_to_temp_variable = { nami_effiency_variable2 = nami_effiency_variable_temp } #Subtract the decimal divsion of 5 from -0.10 will get it probably
    set_variable = { nami_effiency_variable = nami_effiency_variable2 }

}

POL_radicals_calculations = {

    # War Support

    set_temp_variable = { radi_war_variable_temp = POL_Radicals_Support }
    divide_temp_variable = {radi_war_variable_temp = 10 } #getdivision of five
    round_temp_variable = radi_war_variable_temp #round it to clear maths
    divide_temp_variable = { radi_war_variable_temp = 100 } #make it a decimal

    set_temp_variable = { radi_war_variable2 = -0.05 } #maths2 is the secondary operation and represents 0 aka -10%
    add_to_temp_variable = { radi_war_variable2 = radi_war_variable_temp } #Subtract the decimal divsion of 5 from -0.10 will get it probably
    set_variable = { radi_war_variable = radi_war_variable2 }

    # Mobilization

    set_temp_variable = { radi_mobilization_variable_temp = POL_Radicals_Support }
    divide_temp_variable = { radi_mobilization_variable_temp = 10 } #getdivision of five
    round_temp_variable = radi_mobilization_variable_temp #round it to clear maths
    divide_temp_variable = { radi_mobilization_variable_temp = 100 } #make it a decimal

    set_temp_variable = { radi_mobilization_variable2 = -0.05 } #maths2 is the secondary operation and represents 0 aka -10%
    add_to_temp_variable = { radi_mobilization_variable2 = radi_mobilization_variable_temp } #Subtract the decimal divsion of 5 from -0.10 will get it probably
    set_variable = { mega_cap_variable = radi_mobilization_variable2 }

}

POL_moderates_calculations = {

    # Industrial capacity

    set_temp_variable = { mode_industrial_variable_temp = POL_Modarates_Support }
    divide_temp_variable = {mode_industrial_variable_temp = 10 } #getdivision of five
    round_temp_variable = mode_industrial_variable_temp #round it to clear maths
    divide_temp_variable = { mode_industrial_variable_temp = 100 } #make it a decimal

    set_temp_variable = { mode_industrial_variable2 = -0.05 } #maths2 is the secondary operation and represents 0 aka -10%
    add_to_temp_variable = { mode_industrial_variable2 = mode_industrial_variable_temp } #Subtract the decimal divsion of 5 from -0.10 will get it probably
    set_variable = { mode_industrial_variable = mode_industrial_variable2 }

    # Consumer goods

    set_temp_variable = { mode_consumer_variable_temp = POL_Modarates_Support }
    divide_temp_variable = { mode_consumer_variable_temp = -5 } #getdivision of five
    round_temp_variable = mode_consumer_variable_temp #round it to clear maths
    divide_temp_variable = { mode_consumer_variable_temp = 100 } #make it a decimal

    set_temp_variable = { mode_consumer_variable2 = 0.1 } #maths2 is the secondary operation and represents 0 aka -10%
    add_to_temp_variable = { mode_consumer_variable2 = mode_consumer_variable_temp } #Subtract the decimal divsion of 5 from -0.10 will get it probably
    set_variable = {mode_consumer_variable = mode_consumer_variable2 }

}

POL_conservatives_calculations = {

    # Population

    set_temp_variable = { cons_population_variable_temp = POL_Conservatives_Support }
    divide_temp_variable = {cons_population_variable_temp = 25 } #getdivision of 25
    round_temp_variable = cons_population_variable_temp #round it to clear maths
    divide_temp_variable = { warha_waspp_variable_temp = 100 } #make it a decimal

    set_temp_variable = { cons_population_variable2 = -0.02 } #maths2 is the secondary operation and represents 0 aka -10%
    add_to_temp_variable = { cons_population_variable2 = cons_population_variable_temp } #Subtract the decimal divsion of 5 from -0.10 will get it probably
    set_variable = { cons_population_variable = cons_population_variable2 }

    # Conscription

    set_temp_variable = {  cons_conscrition_variable_temp = POL_Conservatives_Support }
    divide_temp_variable = {  cons_conscrition_variable_temp = 10 } #getdivision of five
    round_temp_variable =  cons_conscrition_variable_temp #round it to clear maths
    divide_temp_variable = {  cons_conscrition_variable_temp = 100 } #make it a decimal

    set_temp_variable = {  cons_conscrition_variable2 = -0.05 } #maths2 is the secondary operation and represents 0 aka -10%
    add_to_temp_variable = {  cons_conscrition_variable2 =  cons_conscrition_variable_temp } #Subtract the decimal divsion of 5 from -0.10 will get it probably
    set_variable = { cons_conscrition_variable = cons_conscrition_variable2 }

}

POL_industrialists_calculations = {

    # Production Gain

    set_temp_variable = { indu_factory_variable_temp = POL_Industralist_Support }
    divide_temp_variable = {indu_factory_variable_temp = 12.5 } #getdivision of five
    round_temp_variable = indu_factory_variable_temp #round it to clear maths
    divide_temp_variable = { indu_factory_variable_temp = 100 } #make it a decimal

    set_temp_variable = { indu_factory_variable2 = -0.04 } #maths2 is the secondary operation and represents 0 aka -10%
    add_to_temp_variable = { indu_factory_variable2 = indu_factory_variable_temp } #Subtract the decimal divsion of 5 from -0.10 will get it probably
    set_variable = { indu_factory_variable = indu_factory_variable2 }

    # Construction Speed

    set_temp_variable = {  indu_building_variable_temp = POL_Industralist_Support }
    divide_temp_variable = {  indu_building_variable_temp = 10 } #getdivision of five
    round_temp_variable =  indu_building_variable_temp #round it to clear maths
    divide_temp_variable = {  indu_building_variable_temp = 100 } #make it a decimal

    set_temp_variable = {  indu_building_variable2 = -0.05 } #maths2 is the secondary operation and represents 0 aka -10%
    add_to_temp_variable = {  indu_building_variable2 =  indu_building_variable_temp } #Subtract the decimal divsion of 5 from -0.10 will get it probably
    set_variable = { indu_building_variable = indu_building_variable2 }

}

POL_inf_calculations = {
    set_temp_variable = { inf_reac = POL_Namiestniks_Influence }
    set_temp_variable = { inf_neoi = POL_Radicals_Influence }
    set_temp_variable = { inf_desp = POL_Modarates_Influence }
    set_temp_variable = { inf_cons = POL_Conservatives_Influence }
    set_temp_variable = { inf_libe = POL_Industralist_Influence }
    divide_temp_variable = {inf_reac = -1000 }
    divide_temp_variable = {inf_neoi = -1000 }
    divide_temp_variable = {inf_desp = -1000 }
    divide_temp_variable = {inf_cons = -1000 }
    divide_temp_variable = {inf_libe = -1000 }
    if = {
        limit = {
            POL = {
                has_government = ni
            }
            
        }
        divide_temp_variable = {inf_neoi = -1 }
    }
    if = {
        limit = {
            POL = {
                has_government = rc
            }
        }
        divide_temp_variable = {inf_reac = -1 }
    }
    if = {
        limit = {
            POL = {
                has_government = ds
            }
        }
        divide_temp_variable = {inf_desp = -1 }
    }
    if = {
        limit = {
            POL = {
                has_government = cn
            }
        }
        divide_temp_variable = {inf_cons = -1 }
    }
    if = {
        limit = {
            POL = {
                has_government = an
            }
        }
        divide_temp_variable = {inf_libe = -1 }
    }
    set_temp_variable = { basic_inf = 0 }
    add_to_temp_variable = { inf_reac = inf_neoi }
    add_to_temp_variable = { inf_reac = inf_desp }
    add_to_temp_variable = { inf_reac = inf_cons }
    add_to_temp_variable = { inf_reac = inf_libe }
    add_to_temp_variable = { inf_reac = basic_inf }
    set_variable = { factions_pp_variable = inf_reac }
}


Ant_Add_New_calculations = {
    for_each_scope_loop = {
        array = POL.owned_states
        if = {
			limit = {
				if = {
                    AND = {
                        has_state_flag = { flag = POL_Weigl_Ants_Presence }
                        check_variable = { id.Ant_Number value < 1 }
                    }
				}	
			}
            set_variable = { var = id.Ant_Number value = 10000 }
        }
    }
}

Ant_Modifier_calculations = {
    for_each_scope_loop = {
		array = POL.owned_states
		if = {
			limit = {
				if = {
					has_state_flag = { flag = POL_Weigl_Ants_Presence }
				}	
			}
			set_temp_variable = { how_many = id.Ant_Number }
            divide_temp_variable = {how_many = 1500000 }
            multiply_temp_variable = { how_many = 2500 }
			add_to_temp_variable = { how_many = 1000 }
			round_temp_variable = how_many
            divide_temp_variable = {how_many = 10000 }
            set_variable = { id.WAE_resources_factor_variable = how_many }
            set_variable = { id.WAE_production_speed_infrastructure_variable = how_many }
            set_variable = { id.WAE_production_speed_industrial_complex_variable = how_many }
            set_variable = { id.WAE_resource_steel_variable = how_many }
            set_variable = { id.WAE_resource_cost_tungsten_variable = how_many }
            set_variable = { id.WAE_recruitable_population_factor_variable = how_many }
            set_variable = { id.WAE_intel_to_enemies_variable = how_many }
            set_variable = { id.WAE_building_slots_variable = how_many }
            set_variable = { id.WAE_factories_variable = how_many }
            divide_variable = {
                var = id.WAE_intel_to_enemies_variable
                value = -1
            }
            divide_variable = {
                var = id.WAE_recruitable_population_factor_variable
                value = -1
            }
		}
	}
}

Ant_Number_calculations = {
    for_each_scope_loop = {
		array = POL.owned_states
		if = {
			limit = {
				if = {
					has_state_flag = { flag = POL_Weigl_Ants_Presence }
				}	
			}
			set_temp_variable = { pop = id.Pop_Number }
			set_temp_variable = { factor = 0.17 }
			set_temp_variable = { how_many = id.Ant_Number }
			set_temp_variable = { base = 0 }
			multiply_temp_variable = { pop = 1.5 }
			add_to_temp_variable = { base = pop }
			if = {
				limit = {
					check_temp_variable = { pop > 0 }
				}
				subtract_from_temp_variable = { base = how_many }
				divide_temp_variable = { base = pop }
			}
			multiply_temp_variable = { base = factor }
			add_to_temp_variable = { base = 1 }
			multiply_temp_variable = { base = how_many }
			round_temp_variable = base
			set_variable = { id.Ant_Number = base }
		}
	}
}
