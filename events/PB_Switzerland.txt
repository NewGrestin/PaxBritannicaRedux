##################
# SWISS EVENTS 
##################

add_namespace = swicon
add_namespace = mercenary

country_event = { #elections 33
	id = swicon.1
	title = swicon.1.t
	desc = swicon.1.d
	#picture = 

	fire_only_once = yes
	
	option = {
		name = swicon.1.a
		ai_chance = {
			factor = 33
		}		

		add_stability = 0.1
		add_political_power = 25

		hidden_effect = {
			set_country_flag = SWI_33_elections
		}
	}

	option = {
		name = swicon.1.b
		ai_chance = {
			factor = 33
		}		
		set_politics = {
			ruling_party = cn
			elections_allowed = yes
		}
		activate_advisor = SWI_giuseppe_motta


		custom_effect_tooltip = SWI_higher_bund_tensions

		hidden_effect = {
			set_country_flag = SWI_33_elections
			add_to_leading_coalition_cn = yes
			add_to_leading_coalition_an = yes
			remove_from_right_coalition_an = yes
			remove_from_right_coalition_cn = yes
			remove_from_leading_coalition_lb = yes
			if = {
                limit = {
                    has_idea = PB_SWI_bund_tensions_high
                }
                swap_ideas = {
                    remove_idea = PB_SWI_bund_tensions_high
                    add_idea = PB_SWI_bund_tensions_very_high
                }
            }
			if = {
                limit = {
                    has_idea = PB_SWI_bund_tensions_moderate
                }
                swap_ideas = {
                    remove_idea = PB_SWI_bund_tensions_moderate
                    add_idea = PB_SWI_bund_tensions_high
                }
            }
			if = {
                limit = {
                    has_idea = PB_SWI_bund_tensions_low
                }
                swap_ideas = {
                    remove_idea = PB_SWI_bund_tensions_low
                    add_idea = PB_SWI_bund_tensions_moderate
                }
            }
		}
	}

	option = {
		name = swicon.1.c
		ai_chance = {
			factor = 33
		}		

		set_politics = {
			ruling_party = ss
	        elections_allowed = yes
		}
		activate_advisor = SWI_hans_oprecht

		custom_effect_tooltip = SWI_higher_bund_tensions

		hidden_effect = {
			set_country_flag = SWI_33_elections
			add_to_leading_coalition_ss = yes
			add_to_leading_coalition_jc = yes
			remove_from_left_coalition_ss = yes
			remove_from_left_coalition_jc = yes
			remove_from_leading_coalition_lb = yes
			if = {
                limit = {
                    has_idea = PB_SWI_bund_tensions_high
                }
                swap_ideas = {
                    remove_idea = PB_SWI_bund_tensions_high
                    add_idea = PB_SWI_bund_tensions_very_high
                }
            }
			if = {
                limit = {
                    has_idea = PB_SWI_bund_tensions_moderate
                }
                swap_ideas = {
                    remove_idea = PB_SWI_bund_tensions_moderate
                    add_idea = PB_SWI_bund_tensions_high
                }
            }
			if = {
                limit = {
                    has_idea = PB_SWI_bund_tensions_low
                }
                swap_ideas = {
                    remove_idea = PB_SWI_bund_tensions_low
                    add_idea = PB_SWI_bund_tensions_moderate
                }
            }
		}
	}
}

country_event = { #automation crisis
	id = swicon.2
	title = swicon.2.t
	desc = swicon.2.d
	#picture = 

	fire_only_once = yes
	
	option = {
		name = swicon.2.a
		ai_chance = {
			factor = 100
		}		

		add_stability = -0.1

		swap_ideas = {
            remove_idea = PB_SWI_databank_world
            add_idea = PB_SWI_databank_world_2
        }
         
		hidden_effect = {
            set_country_flag = SWI_auto_crisis
		} 
		

	}
}

country_event = { #SNB coalition
	id = swicon.3
	title = swicon.3.t
	desc = swicon.3.d
	#picture = 

	fire_only_once = yes
	
	option = {
		name = swicon.3.a
		ai_chance = {
			factor = 100
		}		

		add_stability = 0.05

		add_to_leading_coalition_an = yes
	
	}
}

country_event = { #strikes
	id = swicon.4
	title = swicon.4.t
	desc = swicon.4.d
	#picture = 

	fire_only_once = yes
	
	option = {
		name = swicon.4.a
		ai_chance = {
			factor = 100
		}		

		add_stability = -0.05

		add_ideas = PB_SWI_automation_strikes

		hidden_effect = {
            set_country_flag = SWI_ongoing_strikes
		} 
		

	}
}

country_event = { #Dealing with the strikes
	id = swicon.5
	title = swicon.5.t
	desc = swicon.5.d
	#picture = 

	fire_only_once = yes
	
	option = {
		name = swicon.5.a
		ai_chance = {
			factor = 100
		}		
		trigger = {
            has_government = cn
		}
         
		add_stability = -0.25 
		remove_ideas = PB_SWI_automation_strikes
		custom_effect_tooltip = SWI_drastic_bund_tensions

		hidden_effect = {
            clr_country_flag = SWI_ongoing_strikes
            set_country_flag = SWI_strikers_deal
			if = {
                limit = {
                    has_idea = PB_SWI_bund_tensions_very_high
                }
				country_event = {
                    id = swicon.10
                    days = 5
                }
            }
			if = {
                limit = {
                    has_idea = PB_SWI_bund_tensions_high
                }
                swap_ideas = {
                    remove_idea = PB_SWI_bund_tensions_high
                    add_idea = PB_SWI_bund_tensions_very_high
                }
				country_event = {
                    id = swicon.10
                    days = 5
                }
            }
			if = {
                limit = {
                    has_idea = PB_SWI_bund_tensions_moderate
                }
                swap_ideas = {
                    remove_idea = PB_SWI_bund_tensions_moderate
                    add_idea = PB_SWI_bund_tensions_very_high
                }
				country_event = {
                    id = swicon.10
                    days = 5
                }
            }
			if = {
                limit = {
                    has_idea = PB_SWI_bund_tensions_low
                }
                swap_ideas = {
                    remove_idea = PB_SWI_bund_tensions_low
                    add_idea = PB_SWI_bund_tensions_very_high
                }
				country_event = {
                    id = swicon.10
                    days = 5
                }
            }
		} 
	}

	option = {
		name = swicon.5.b
		ai_chance = {
			factor = 100
		}		
		trigger = {
            has_government = lb
		}

		swap_ideas = {
            remove_idea = PB_12_Hour_Workday
            add_idea = PB_8_Hour_Workday
        }

		

		hidden_effect = {
			clr_country_flag = SWI_ongoing_strikes
            set_country_flag = SWI_strikers_deal
		} 
		

	}

	option = {
		name = swicon.5.c
		ai_chance = {
			factor = 100
		}		
		trigger = {
            has_government = ss
		}

		

		hidden_effect = {
            clr_country_flag = SWI_ongoing_strikes
            set_country_flag = SWI_strikers_deal
		} 
		

	}
}

country_event = { #Habsburg deal 1
	id = swicon.6
	title = swicon.6.t
	desc = swicon.6.d
	#picture = 

	fire_only_once = yes
	
	option = {
		name = swicon.5.a
		ai_chance = {
			factor = 100
		}		
		

	}
}

country_event = { #Swiss civil war
	id = swicon.10
	title = swicon.10.t
	desc = swicon.10.d
	#picture = 

	fire_only_once = yes
	
	option = {
		name = swicon.10.a
		ai_chance = {
			factor = 100
		}		
        
		hidden_effect = {
			D15 = {
			    add_state_core = 1404
			    add_state_core = 1403
			    add_state_core = 971
			    add_state_core = 940
			    add_state_core = 3
			    add_state_core = 151
			    set_state_owner = 1404
			    set_state_owner = 1403
			    set_state_owner = 971
				set_state_controller = 1404
				set_state_controller = 1403
				set_state_controller = 971
			    set_cosmetic_tag = SWI_CATHOLIC
				set_capital = {state = 971}
		    }
			SWI = {
				remove_state_core = 1404
				remove_state_core = 1403
				remove_state_core = 971
				set_cosmetic_tag = SWI_PROTESTANT
				declare_war_on = {
                    target = D15
                    type = annex_everything
                }
			}
		}
        
		

	}
}

country_event = { #tonkin campaign involvement
	id = mercenary.1
	title = mercenary.1.t
	desc = mercenary.1.d
	#picture = 

	fire_only_once = yes
	
	option = {
		name = mercenary.1.a
		ai_chance = {
			factor = 100
		}		

	}

	option = {
		name = mercenary.1.b
		ai_chance = {
			factor = 100
		}		
	}
}

country_event = { #december war italy
	id = mercenary.2
	title = mercenary.2.t
	desc = mercenary.2.d
	#picture = 

	fire_only_once = yes
	
	option = {
		name = mercenary.2.a
		ai_chance = {
			factor = 100
		}		

	}

	option = {
		name = mercenary.2.b
		ai_chance = {
			factor = 100
		}		
	}
}
