###########################
# Annexation Events concerning America
###########################
# By lots of folks
# Converted from on_actions to decisions by Rylock and Dr_Njitram
# Any new post-annexation events need to have their triggers in the KR_on_actions file
###########################
###########################
# Thanks KR ;) - Pax Team
###########################

## the bottom table of context and other events need to be adjusted to Pax - Lexus
## i left one event as example for the rest of the events, if you're not sure check out KR code

# Table of Contents
#	No specific order but please keep events in the order as belowe
#
# AMERICA


add_namespace = annexation

#####################################
##  NORTH  AMERICA   ##
#####################################


country_event = { #Fate of Acadia
	id = annexation.2000
	title = annexation_acadia
	desc = annexation_acadia_desc
	picture = GFX_report_event_Generic_Art_Gallery

	is_triggered_only = yes

	immediate = {


			if = {
				limit = {
					OR = {
						941 = { is_claim_or_core_of_ROOT = yes } #New Dixie
						957 = { is_claim_or_core_of_ROOT = yes } #UC or Dixie
						370 = { is_claim_or_core_of_ROOT = yes } #UC or Dixie
					}
				}
				save_event_target_as = can_annex
			}
			if = {
				limit = {
					957 = { 
						annexations_state_owner_is_valid_grant_target = yes
						owner = { ROOT_can_grant_land = yes }
						owner = { tag = AME }
					}
				}
				AME = { save_event_target_as = uc_owner }
			}
			if = {
				limit = {
					957 = { 
						annexations_state_owner_is_valid_grant_target = yes
						owner = { ROOT_can_grant_land = yes }
						owner = { tag = FSA }
					}
				}
				var:957.owner = { save_event_target_as = dixie_owner }
			}

		hidden_effect = {
			#if = {
			

		}
	}

	option = { #Liberate Acadia
		log = "[GetLogInfo]: event annexation.2000 option annexation.2000.a"
		name = annexation.2000.a
		trigger = {
			is_subject = no
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		if = {
			limit = { country_exists = ACD }
			custom_effect_tooltip = ACD_puppet_tooltip
			
		}
		else = {
			set_temp_variable = { tag_to_release = ACD }
			release_targeted_tag = yes
		}
		recheck_annexations = yes
	}


	option = { #Give it to the Commonwealth
		log = "[GetLogInfo]: event annexation.2000 option annexation.2000.a"
		name = annexation.2000.b
		trigger = {
			has_event_target = uc_owner
			NOT = {
				OR = {
					tag = KLL
					tag = NRT
					tag = OSA
					tag = MRN
					tag = GRN
					tag = CMC
					tag = STA
					tag = DER
					tag = APA
					tag = NEV
					tag = SHO
					tag = DES
					tag = TAB
					tag = FRE
					tag = NWA
					tag = NVI
					tag = MEI
					tag = NDX
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:uc_owner }
		ACD = { set_transfer_target_cores = yes }
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}


	option = { #Give it to the Dixie Free States
		log = "[GetLogInfo]: event annexation.2000 option annexation.2000.a"
		name = annexation.2000.c
		trigger = {
			has_event_target = dixie_owner
			NOT = {
				OR = {
					tag = KLL
					tag = NRT
					tag = OSA
					tag = MRN
					tag = GRN
					tag = CMC
					tag = STA
					tag = DER
					tag = APA
					tag = NEV
					tag = SHO
					tag = DES
					tag = TAB
					tag = FRE
					tag = NWA
					tag = NVI
					tag = MEI
					#tag = NDX
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:dixie_owner }
		FSA = { transfer_state_and_notify = yes }
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}

	option = { #Cancel
		log = "[GetLogInfo]: event annexation.2010 option annexation.cancel"
		name = annexation.cancel
		ai_chance = { base = 0 }
		recheck_annexations = yes
	}
}

country_event = { #Fate of Tejas
	id = annexation.2002
	title = annexation_tejas
	desc = annexation_tejas_desc
	picture = GFX_report_event_Generic_Art_Gallery

	is_triggered_only = yes

	immediate = {

		383 = { retain_state = yes }

		963 = { retain_state = yes } 
		#if = {
		#	limit = {
		#		OR = {
		#			941 = { is_claim_or_core_of_ROOT = yes } #New Dixie
		#			957 = { is_claim_or_core_of_ROOT = yes } #UC or Dixie
		#			370 = { is_claim_or_core_of_ROOT = yes } #UC or Dixie
		#		}
		#	}
		#	save_event_target_as = can_annex
		#}
		if = {
			limit = {
				MEX = {
					ROOT_can_grant_land = yes
					OR	= {
					owns_state = 947
					owns_state = 907
					}
				}
			}
			MEX  = { save_event_target_as = mexico }
		}
		#if = {
		#	limit = {
		#		957 = { 
		#			annexations_state_owner_is_valid_grant_target = yes
		#			owner = { ROOT_can_grant_land = yes }
		#			owner = { tag = FSA }
		#		}
		#	}
		#	var:957.owner = { save_event_target_as = dixie_owner }
		#}

		hidden_effect = {
			#if = {
			

		}
	}

	option = { #Liberate Core-Tejas
		log = "[GetLogInfo]: event annexation.2002 option annexation.2002.a"
		name = annexation.2002.a
		trigger = {
			is_subject = no
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		if = {
			limit = { country_exists = TEX }
			custom_effect_tooltip = TEX_puppet_tooltip
			
		}
		else = {
			set_temp_variable = { tag_to_release = TEX }
			release_targeted_tag = yes
		}
		recheck_annexations = yes
	}


	option = { #Give it to Mexico
		log = "[GetLogInfo]: event annexation.2000 option annexation.2000.a"
		name = annexation.2002.b
		trigger = {
			has_event_target = mexico
			NOT = {
				OR = {
					tag = KLL
					tag = NRT
					tag = OSA
					tag = MRN
					tag = GRN
					tag = CMC
					tag = STA
					tag = DER
					tag = APA
					tag = NEV
					tag = SHO
					tag = DES
					tag = TAB
					tag = FRE
					tag = NWA
					tag = NVI
					tag = MEI
					tag = NDX
					tag = CAL
					tag = SFE
					tag = RGD
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:mexico }
		TEX = { set_transfer_target_cores = yes }
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}


	#option = { #Give it to the Dixie Free States
	#	log = "[GetLogInfo]: event annexation.2000 option annexation.2000.a"
	#	name = annexation.2000.c
	#	trigger = {
	#		has_event_target = dixie_owner
	#		NOT = {
	#			OR = {
	#				tag = KLL
	#				tag = NRT
	#				tag = OSA
	#				tag = MRN
	#				tag = GRN
	#				tag = CMC
	#				tag = STA
	#				tag = DER
	#				tag = APA
	#				tag = NEV
	#				tag = SHO
	#				tag = DES
	#				tag = TAB
	#				tag = FRE
	#				tag = NWA
	#				tag = NVI
	#				tag = MEI
	#				#tag = NDX
	#			}
	#		}
	#	}
	#	ai_chance = {
	#		base = 50
	#		modifier = {
	#			factor = 0
	#			annexations_can_annex = yes
	#		}
	#	}
	#	set_temp_variable = { tag_to_release = event_target:dixie_owner }
	#	FSA = { transfer_state_and_notify = yes }
	#	transfer_targeted_territory = yes
	#	recheck_annexations = yes
	#}

	option = { #Cancel
		log = "[GetLogInfo]: event annexation.2010 option annexation.cancel"
		name = annexation.cancel
		ai_chance = { base = 0 }
		recheck_annexations = yes
	}
}

country_event = { #Fate of American Texas
	id = annexation.2003
	title = annexation_tejas
	desc = annexation_tejas_desc
	picture = GFX_report_event_Generic_Art_Gallery

	is_triggered_only = yes

	immediate = {
		#if = {
		#	limit = {
		#		OR = {
		#			941 = { is_claim_or_core_of_ROOT = yes } #New Dixie
		#			957 = { is_claim_or_core_of_ROOT = yes } #UC or Dixie
		#			370 = { is_claim_or_core_of_ROOT = yes } #UC or Dixie
		#		}
		#	}
		#	save_event_target_as = can_annex
		#}
		if = {
			limit = {
				MEX = {
					ROOT_can_grant_land = yes
					OR	= {
					owns_state = 962
					owns_state = 964
					}
				}
			}
			MEX  = { save_event_target_as = mexico }
		}
		if = {
			limit = {
				AME = {
					ROOT_can_grant_land = yes
					OR	= {
					owns_state = 371
					owns_state = 372
					}
				}
			}
			AME  = { save_event_target_as = america }
		}
		if = {
			limit = {
				TEX = {
					ROOT_can_grant_land = yes
					OR	= {
						owns_state = 962
						owns_state = 964
					}
				}
			}
			TEX  = { save_event_target_as = tejas_united }
		}
		#if = {
		#	limit = {
		#		957 = { 
		#			annexations_state_owner_is_valid_grant_target = yes
		#			owner = { ROOT_can_grant_land = yes }
		#			owner = { tag = FSA }
		#		}
		#	}
		#	var:957.owner = { save_event_target_as = dixie_owner }
		#}

		hidden_effect = {
			ATX= {
			add_state_core = 383
			add_state_core = 963
			}

		}
	}

	option = { #Liberate Core-AmericanTexas
		log = "[GetLogInfo]: event annexation.2003 option annexation.2003.a"
		name = annexation.2003.a
		trigger = {
			is_subject = no
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		if = {
			limit = { country_exists = ATX }
			custom_effect_tooltip = TEX_puppet_tooltip
			
		}
		else = {
			set_temp_variable = { tag_to_release = ATX }
			release_targeted_tag = yes
		}
		recheck_annexations = yes
	}


	option = { #Give it to Tejas
		log = "[GetLogInfo]: event annexation.2003 option annexation.2003.a"
		name = annexation.2003.b
		trigger = {
			has_event_target = tejas_united
			NOT = {
				OR = {
					tag = KLL
					tag = NRT
					tag = OSA
					tag = MRN
					tag = GRN
					tag = CMC
					tag = STA
					tag = DER
					tag = APA
					tag = NEV
					tag = SHO
					tag = DES
					tag = TAB
					tag = FRE
					tag = NWA
					tag = NVI
					tag = MEI
					tag = NDX
					tag = CAL
					tag = SFE
					tag = RGD
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:tejas_united }
		ATX = { set_transfer_target_cores = yes }
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}

	option = { #Give it to Mexico
		log = "[GetLogInfo]: event annexation.2003 option annexation.2003.a"
		name = annexation.2003.c
		trigger = {
			has_event_target = mexico
			NOT = {
				OR = {
					tag = KLL
					tag = NRT
					tag = OSA
					tag = MRN
					tag = GRN
					tag = CMC
					tag = STA
					tag = DER
					tag = APA
					tag = NEV
					tag = SHO
					tag = DES
					tag = TAB
					tag = FRE
					tag = NWA
					tag = NVI
					tag = MEI
					tag = NDX
					tag = CAL
					tag = SFE
					tag = RGD
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:mexico }
		TEX = { set_transfer_target_cores = yes }
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}

	option = { #Give it to America
		log = "[GetLogInfo]: event annexation.2003 option annexation.2003.a"
		name = annexation.2003.d
		trigger = {
			has_event_target = america
			NOT = {
				OR = {
					tag = KLL
					tag = NRT
					tag = OSA
					tag = MRN
					tag = GRN
					tag = CMC
					tag = STA
					tag = DER
					tag = APA
					tag = NEV
					tag = SHO
					tag = DES
					tag = TAB
					tag = FRE
					tag = NWA
					tag = NVI
					tag = MEI
					tag = NDX
					tag = CAL
					tag = SFE
					tag = RGD
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:america }
		ATX = { set_transfer_target_cores = yes }
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}

	option = { #Cancel
		log = "[GetLogInfo]: event annexation.2010 option annexation.cancel"
		name = annexation.cancel
		ai_chance = { base = 0 }
		recheck_annexations = yes
	}
}


country_event = { #Fate of Riogrande
	id = annexation.2004
	title = annexation_riogrand
	desc = annexation_riogrand_desc
	picture = GFX_report_event_Generic_Art_Gallery

	is_triggered_only = yes

	immediate = {

		#907 = { retain_state = yes } #

		#946 = { retain_state = yes } #Monclova

		#1372 = { retain_state = yes } #

		hidden_effect = {
			if = {
				limit = {
					OR = {
					original_tag = MEX
					original_tag = TEX
					}
				}
				save_event_target_as = can_annex
			}
			
			if = {
				limit = {
					TEX = {
						ROOT_can_grant_land = yes
						OR	= {
							owns_state = 962
							owns_state = 964
						}
					}
				}
				TEX  = { save_event_target_as = give_to_tejas }
			}
		}
	}

	option = { #Liberate Core-RioGrande
		log = "[GetLogInfo]: event annexation.2004 option annexation.2004.a"
		name = annexation.2004.a
		trigger = {
			is_subject = no
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		if = {
			limit = { country_exists = RGD }
			custom_effect_tooltip = RGD_puppet_tooltip
			
		}
		else = {
			set_temp_variable = { tag_to_release = RGD }
			release_targeted_tag = yes
		}
		recheck_annexations = yes
	}


	option = { #Split Rio Grande Up
		log = "[GetLogInfo]: event annexation.2004 option annexation.2004.b"
		name = annexation.2004.b
		trigger = {
			is_subject = no
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		ROOT = {
			set_country_flag = rio_grande_divide
		}
		907 = { #
			retain_state = yes
		}
		947 = { #
			retain_state = yes
		}
		946 = { #
			retain_state = yes
		}
		1372 = { #
			retain_state = yes
		}
		recheck_annexations = yes
	}


	option = { #Cancel
		log = "[GetLogInfo]: event annexation.2010 option annexation.cancel"
		name = annexation.cancel
		ai_chance = { base = 0 }
		recheck_annexations = yes
	}
}


country_event = { #Fate of Riogrande North
	id = annexation.2005
	title = annexation_riogrand
	desc = annexation_riogrand_desc
	picture = GFX_report_event_Generic_Art_Gallery

	is_triggered_only = yes

	immediate = {

	
		if = {
			limit = {
				OR = {
				original_tag = MEX
				original_tag = TEX
				}
			}
			save_event_target_as = can_annex
		}
		#if = {
		#	limit = {
		#		AME = {
		#			ROOT_can_grant_land = yes
		#			OR	= {
		#			owns_state = 371
		#			owns_state = 372
		#			}
		#		}
		#	}
		#	AME  = { save_event_target_as = america }
		#}
		if = {
			limit = {
				TEX = {
					ROOT_can_grant_land = yes
					OR	= {
						owns_state = 375
						owns_state = 965
					}
				}
			}
			TEX  = { save_event_target_as = give_to_tejas }
		}

		if = {
			limit = {
				MEX = {
					ROOT_can_grant_land = yes
					OR	= {
						owns_state = 946
						owns_state = 1372
					}
				}
			}
			MEX = { save_event_target_as = give_to_mexico }
		}
		#if = {
		#	limit = {
		#		957 = { 
		#			annexations_state_owner_is_valid_grant_target = yes
		#			owner = { ROOT_can_grant_land = yes }
		#			owner = { tag = FSA }
		#		}
		#	}
		#	var:957.owner = { save_event_target_as = dixie_owner }
		#}

		hidden_effect = {
		}
	}

	option = { #Give it to Tejas
		log = "[GetLogInfo]: event annexation.2005 option annexation.2005.a"
		name = annexation.2005.a
		trigger = {
			is_subject = no
			has_event_target = give_to_tejas
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:give_to_tejas}
		947 = { transfer_state_and_notify = yes }
		907 = { transfer_if_owned = yes } 
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}


	option = { #Give it to Mexico
		log = "[GetLogInfo]: event annexation.2005 option annexation.2005.b"
		name = annexation.2005.b
		trigger = {
			is_subject = no
			has_event_target = give_to_mexico
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		
		set_temp_variable = { tag_to_release = event_target:give_to_mexico}
		947 = { transfer_state_and_notify = yes }
		907 = { transfer_if_owned = yes } 
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}


	option = { #Cancel
		log = "[GetLogInfo]: event annexation.2010 option annexation.cancel"
		name = annexation.cancel
		ai_chance = { base = 0 }
		recheck_annexations = yes
	}
}

country_event = { #Fate of Southern Rio Grande (Monclova)
	id = annexation.2006
	title = annexation_riogrand
	desc = annexation_riogrand_desc
	picture = GFX_report_event_Generic_Art_Gallery

	is_triggered_only = yes

	immediate = {

		if = {
			limit = {
				OR = {
				original_tag = MEX
				original_tag = TEX
				}
			}
			save_event_target_as = can_annex
		}
		#if = {
		#	limit = {
		#		AME = {
		#			ROOT_can_grant_land = yes
		#			OR	= {
		#			owns_state = 371
		#			owns_state = 372
		#			}
		#		}
		#	}
		#	AME  = { save_event_target_as = america }
		#}
		if = {
			limit = {
				TEX = {
					ROOT_can_grant_land = yes
					OR	= {
						owns_state = 375
						owns_state = 965
					}
				}
			}
			TEX  = { save_event_target_as = give_to_tejas }
		}

		if = {
			limit = {
				MEX = {
					ROOT_can_grant_land = yes
					OR	= {
						owns_state = 480
						#owns_state = 1372
					}
				}
			}
			MEX = { save_event_target_as = give_to_mexico }
		}
		#if = {
		#	limit = {
		#		957 = { 
		#			annexations_state_owner_is_valid_grant_target = yes
		#			owner = { ROOT_can_grant_land = yes }
		#			owner = { tag = FSA }
		#		}
		#	}
		#	var:957.owner = { save_event_target_as = dixie_owner }
		#}

		hidden_effect = {
		}
	}

	option = { #Give it to Tejas
		log = "[GetLogInfo]: event annexation.2006 option annexation.2006.a"
		name = annexation.2006.a
		trigger = {
			is_subject = no
			has_event_target = give_to_tejas
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:give_to_tejas}
		947 = { transfer_state_and_notify = yes }
		907 = { transfer_if_owned = yes } 
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}


	option = { #Give it to Mexico
		log = "[GetLogInfo]: event annexation.2006 option annexation.2006.b"
		name = annexation.2005.b
		trigger = {
			is_subject = no
			has_event_target = give_to_mexico
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		
		set_temp_variable = { tag_to_release = event_target:give_to_mexico}
		946 = { transfer_state_and_notify = yes }
		1372 = { transfer_if_owned = yes } 
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}


	option = { #Cancel
		log = "[GetLogInfo]: event annexation.2010 option annexation.cancel"
		name = annexation.cancel
		ai_chance = { base = 0 }
		recheck_annexations = yes
	}
}

country_event = { #Fate of Cuzcatlan
	id = annexation.2007
	title = annexation_cuzcatlan
	desc = annexation_cuzcatlan_desc
	picture = GFX_report_event_Generic_Art_Gallery

	is_triggered_only = yes

	immediate = {
			
	}

	option = { #Liberate Cuzcatlan & El Salvador
		log = "[GetLogInfo]: event annexation.2007 option annexation.2007.a"
		name = annexation.2007.a
		trigger = {
			is_subject = no
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		314 = {
        remove_core_of = HON
        }

		if = {
			limit = { country_exists = HON }
			custom_effect_tooltip = HON_puppet_tooltip
			
		}
		else = {
			set_temp_variable = { tag_to_release = HON }
			release_targeted_tag = yes
		}

		if = {
			limit = { country_exists = ELS }
			custom_effect_tooltip = ELS_puppet_tooltip
			
		}
		else = {
			set_temp_variable = { tag_to_release = ELS }
			release_targeted_tag = yes
		}

		recheck_annexations = yes
	}
	option = { #Liberate Cuzcatlan whole
		log = "[GetLogInfo]: event annexation.2007 option annexation.b"
		name = annexation.2007.b
		trigger = {
            is_subject = no
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}

        if = {
			limit = { country_exists = HON }
			custom_effect_tooltip = HON_puppet_tooltip
			
		}
		else = {
			set_temp_variable = { tag_to_release = HON }
			release_targeted_tag = yes
		}

    }

	option = { #Cancel
		log = "[GetLogInfo]: event annexation.2007 option annexation.cancel"
		name = annexation.cancel
		ai_chance = { base = 0 }
		recheck_annexations = yes
	}
}

country_event = { #Fate of Yucatan
	id = annexation.2008
	title = annexation_yucatan
	desc = annexation_yucatan_desc
	picture = GFX_report_event_Generic_Art_Gallery

	is_triggered_only = yes

	immediate = {
	MEX  = { save_event_target_as = mexico }
		
    }
	option = { #Liberate Yucatan
		log = "[GetLogInfo]: event annexation.2008 option annexation.2008.a"
		name = annexation.2008.a
		trigger = {
			is_subject = no
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		if = {
			limit = { country_exists = YUC }
			custom_effect_tooltip = YUC_puppet_tooltip
			
		}
		else = {
			set_temp_variable = { tag_to_release = YUC }
			release_targeted_tag = yes
		}
		recheck_annexations = yes
	}


	option = { #Give it to Mexico
		log = "[GetLogInfo]: event annexation.2008 option annexation.2008.b"
		name = annexation.2008.b
		trigger = {
			has_event_target = mexico
			MEX = {
            exists = yes
		    }   
	    }
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:mexico }
		474 = { transfer_state_to = MEX }
		1407 = { transfer_state_to = MEX }
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}

	option = { #Cancel
		log = "[GetLogInfo]: event annexation.2008 option annexation.cancel"
		name = annexation.cancel
		ai_chance = { base = 0 }
		recheck_annexations = yes
	}
}	


country_event = { #Fate of Guatemala
	id = annexation.2009
	title = annexation_guatemala
	desc = annexation_guatemala_desc
	picture = GFX_report_event_Generic_Art_Gallery

	is_triggered_only = yes

	immediate = {
	MEX  = { save_event_target_as = mexico }
	LOS  = { save_event_target_as = los_altos }
		
    }
	option = { #Liberate Guatemala
		log = "[GetLogInfo]: event annexation.2009 option annexation.2009.a"
		name = annexation.2009.a
		trigger = {
			is_subject = no
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		if = {
			limit = { country_exists = GUA }
			custom_effect_tooltip = GUA_puppet_tooltip
			
		}
		else = {
			set_temp_variable = { tag_to_release = GUA }
			release_targeted_tag = yes
		}
		recheck_annexations = yes
	}


	option = { #Give it to Mexico
		log = "[GetLogInfo]: event annexation.2009 option annexation.2009.b"
		name = annexation.2009.b
		trigger = {
			has_event_target = mexico
			MEX = {
            exists = yes
		    }   
	    }
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:mexico }
		313 = { transfer_state_to = MEX }
		1212 = { transfer_state_to = MEX }
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}

	option = { #Give it to Los Altos
		log = "[GetLogInfo]: event annexation.2009 option annexation.2009.c"
		name = annexation.2009.c
		trigger = {
			has_event_target = los_altos
			LOS = {
            exists = yes
		    }   
	    }
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:los_altos }
		313 = { transfer_state_to = LOS }
		1212 = { transfer_state_to = LOS }
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}

	option = { #Cancel
		log = "[GetLogInfo]: event annexation.2009 option annexation.cancel"
		name = annexation.cancel
		ai_chance = { base = 0 }
		recheck_annexations = yes
	}
}	

country_event = { #Fate of Los Altos
	id = annexation.2010
	title = annexation_los_altos
	desc = annexation_los_altos_desc
	picture = GFX_report_event_Generic_Art_Gallery

	is_triggered_only = yes

	immediate = {
	MEX  = { save_event_target_as = mexico }
	GUA  = { save_event_target_as = guatemala }
		
    }
	option = { #Liberate Los Altos
		log = "[GetLogInfo]: event annexation.2010 option annexation.2010.a"
		name = annexation.2010.a
		trigger = {
			is_subject = no
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		if = {
			limit = { country_exists = LOS }
			custom_effect_tooltip = LOS_puppet_tooltip
			
		}
		else = {
			set_temp_variable = { tag_to_release = LOS }
			release_targeted_tag = yes
		}
		recheck_annexations = yes
	}


	option = { #Give it to Mexico
		log = "[GetLogInfo]: event annexation.2010 option annexation.2010.b"
		name = annexation.2010.b
		trigger = {
			has_event_target = mexico
			MEX = {
            exists = yes
            }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:mexico }
		778 = { transfer_state_to = MEX }
		1406 = { transfer_state_to = MEX }
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}

	option = { #Give it to Guatemala
		log = "[GetLogInfo]: event annexation.2010 option annexation.2010.c"
		name = annexation.2010.c
		trigger = {
			has_event_target = guatemala
			GUA = {
            exists = yes
            }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:guatemala }
		778 = { transfer_state_to = GUA }
		1406 = { transfer_state_to = GUA }
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}

	option = { #Cancel
		log = "[GetLogInfo]: event annexation.2010 option annexation.cancel"
		name = annexation.cancel
		ai_chance = { base = 0 }
		recheck_annexations = yes
	}
}	

country_event = { #Fate of Nicaragua
	id = annexation.2011
	title = annexation_nicaragua
	desc = annexation_nicaragua_desc
	picture = GFX_report_event_Generic_Art_Gallery

	is_triggered_only = yes

	immediate = {
		
    }
	option = { #Liberate Nicaragua
		log = "[GetLogInfo]: event annexation.2011 option annexation.2011.a"
		name = annexation.2011.a
		trigger = {
			is_subject = no
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		if = {
			limit = { country_exists = NIC }
			custom_effect_tooltip = NIC_puppet_tooltip
			
		}
		else = {
			set_temp_variable = { tag_to_release = NIC }
			release_targeted_tag = yes
		}
		recheck_annexations = yes
	}

	option = { #Cancel
		log = "[GetLogInfo]: event annexation.2011 option annexation.cancel"
		name = annexation.cancel
		ai_chance = { base = 0 }
		recheck_annexations = yes
	}
}	

############################ WWW NATIONS


country_event = { #Fate of Apacheria
	id = annexation.1101
	title = annexation_apacheria
	desc = annexation_apacheria_desc
	picture = GFX_report_event_Generic_Art_Gallery

	is_triggered_only = yes

	immediate = {


			if = {
				limit = {
					tag_is_eligible_for_wild_west_generic_tree = yes
				}
				save_event_target_as = can_annex_www
			}
			#if = {
			#	limit = {
			#		957 = { 
			#			annexations_state_owner_is_valid_grant_target = yes
			#			owner = { ROOT_can_grant_land = yes }
			#			owner = { tag = AME }
			#		}
			#	}
			#	AME = { save_event_target_as = uc_owner }
			#}
			#if = {
			#	limit = {
			#		957 = { 
			#			annexations_state_owner_is_valid_grant_target = yes
			#			owner = { ROOT_can_grant_land = yes }
			#			owner = { tag = FSA }
			#		}
			#	}
			#	var:957.owner = { save_event_target_as = dixie_owner }
			#}

		hidden_effect = {
			#if = {
			

		}
	}

	option = { #Liberate Acadia
		log = "[GetLogInfo]: event annexation.2000 option annexation.2000.a"
		name = annexation.2000.a
		trigger = {
			is_subject = no
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		if = {
			limit = { country_exists = ACD }
			custom_effect_tooltip = ACD_puppet_tooltip
			
		}
		else = {
			set_temp_variable = { tag_to_release = ACD }
			release_targeted_tag = yes
		}
		recheck_annexations = yes
	}


	option = { #Give it to the Commonwealth
		log = "[GetLogInfo]: event annexation.2000 option annexation.2000.a"
		name = annexation.2000.b
		trigger = {
			has_event_target = uc_owner
			NOT = {
				OR = {
					tag = KLL
					tag = NRT
					tag = OSA
					tag = MRN
					tag = GRN
					tag = CMC
					tag = STA
					tag = DER
					tag = APA
					tag = NEV
					tag = SHO
					tag = DES
					tag = TAB
					tag = FRE
					tag = NWA
					tag = NVI
					tag = MEI
					tag = NDX
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:uc_owner }
		ACD = { set_transfer_target_cores = yes }
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}


	option = { #Give it to the Dixie Free States
		log = "[GetLogInfo]: event annexation.2000 option annexation.2000.a"
		name = annexation.2000.c
		trigger = {
			has_event_target = dixie_owner
			NOT = {
				OR = {
					tag = KLL
					tag = NRT
					tag = OSA
					tag = MRN
					tag = GRN
					tag = CMC
					tag = STA
					tag = DER
					tag = APA
					tag = NEV
					tag = SHO
					tag = DES
					tag = TAB
					tag = FRE
					tag = NWA
					tag = NVI
					tag = MEI
					#tag = NDX
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				annexations_can_annex = yes
			}
		}
		set_temp_variable = { tag_to_release = event_target:dixie_owner }
		FSA = { transfer_state_and_notify = yes }
		transfer_targeted_territory = yes
		recheck_annexations = yes
	}

	option = { #Cancel
		log = "[GetLogInfo]: event annexation.2010 option annexation.cancel"
		name = annexation.cancel
		ai_chance = { base = 0 }
		recheck_annexations = yes
	}
}


#country_event = { #Fate of Galicia
#	id = annexation.1017
#	title = annexation_spanish_galicia
#	desc = annexation_spanish_galicia_desc
#	picture = GFX_report_event_generic_conference2
#
#	is_triggered_only = yes
#
#	immediate = {
#
#		if = {
#			limit = {
#				OR = {
#					174 = { is_claim_or_core_of_ROOT = yes } #León
#					793 = { is_claim_or_core_of_ROOT = yes } #Asturias
#				}
#			}
#			save_event_target_as = can_annex
#		}
#		if = {
#			limit = {
#				174 = { #León
#					annexations_state_owner_is_valid_grant_target = yes
#					owner = { ROOT_can_grant_land = yes }
#				}
#			}
#			var:174.owner = { save_event_target_as = spain_leon }
#		}
#		if = {
#			limit = {
#				1193 = { #Asturias
#					annexations_state_owner_is_valid_grant_target = yes
#					owner = {
#						ROOT_can_grant_land = yes
#						NOT = { tag = event_target:spain_leon }
#					}
#				}
#			}
#			var:1193.owner = { save_event_target_as = spain_asturias }
#		}
#		if = {
#			limit = {
#				180 = { #Porto
#					annexations_state_owner_is_valid_grant_target = yes
#					owner = { ROOT_can_grant_land = yes }
#				}
#			}
#			var:180.owner = { save_event_target_as = porto_owner }
#		}
#	}
#
#	#option = { #puppet
#	#	log = "[GetLogInfo]: event annex.1085 option annex.1085.a"
#	#	name =annexation.1017.a
#	#	trigger = {
#	#		is_subject = no
#	#	}
#	#	ai_chance = { base = 0 }
#	#	set_temp_variable = { tag_to_release = GLC }
#	#	release_targeted_tag = yes
#	#	recheck_annexations = yes
#	#}
#
#	option = { #give to Spanish owner of León
#		log = "[GetLogInfo]: event annexation.1017 option annexation.1017.b"
#		name = annexation.1017.b
#		trigger = {
#			has_event_target = spain_leon
#		}
#		ai_chance = {
#			base = 40
#			#modifier = {
#			#	factor = 0
#			#	annexations_can_annex = yes
#			#}
#			#modifier = {
#			#	factor = 0
#			#	NOT = { is_ally_with = event_target:spain_leon }
#			#	OR = {
#			#		is_ally_with = event_target:spain_asturias
#			#		is_ally_with = event_target:portugal
#			#	}
#			#}
#			#modifier = {
#			#	factor = 0.1
#			#	event_target:spain_leon = { is_subject = yes }
#			#}
#		}
#		set_temp_variable = { tag_to_release = event_target:spain_leon }
#		171 = { transfer_state_and_notify = yes }
#		transfer_targeted_territory = yes
#		recheck_annexations = yes
#	}
#
#	option = { #give to Spanish owner of Asturias
#		log = "[GetLogInfo]: event annexation.1017 option annexation.1017.c"
#		name = annexation.1017.c
#		trigger = {
#			has_event_target = spain_asturias
#		}
#		ai_chance = {
#			base = 30
#			#modifier = {
#			#	factor = 0
#			#	annexations_can_annex = yes
#			#}
#			#modifier = {
#			#	factor = 0
#			#	NOT = { is_ally_with = event_target:spain_asturias }
#			#	OR = {
#			#		is_ally_with = event_target:spain_leon
#			#		is_ally_with = event_target:portugal
#			#	}
#			#}
#			#modifier = {
#			#	factor = 0.1
#			#	event_target:spain_asturias = { is_subject = yes }
#			#}
#		}
#		set_temp_variable = { tag_to_release = event_target:spain_asturias }
#		171 = { transfer_state_and_notify = yes }
#		transfer_targeted_territory = yes
#		recheck_annexations = yes
#	}
#
#	option = { #give to Spanish owner of Porto
#		log = "[GetLogInfo]: event annexation.1017 option annexation.1017.d"
#		name = annexation.1017.d
#		trigger = {
#			has_event_target = porto_owner
#		}
#		ai_chance = {
#			base = 30
#			#modifier = {
#			#	factor = 0
#			#	annexations_can_annex = yes
#			#}
#			#modifier = {
#			#	factor = 0
#			#	NOT = { is_ally_with = event_target:spain_asturias }
#			#	OR = {
#			#		is_ally_with = event_target:spain_leon
#			#		is_ally_with = event_target:portugal
#			#	}
#			#}
#			#modifier = {
#			#	factor = 0.1
#			#	event_target:spain_asturias = { is_subject = yes }
#			#}
#		}
#		set_temp_variable = { tag_to_release = event_target:porto_owner}
#		171 = { transfer_state_and_notify = yes }
#		transfer_targeted_territory = yes
#		recheck_annexations = yes
#	}
#
#	#option = { #Give to overlord
#	#	log = "[GetLogInfo]: event annex.1085 option annex.give_to_overlord"
#	#	name = annex.give_to_overlord
#	#	trigger = {
#	#		annexations_should_give_lands_to_overlord = yes
#	#	}
#	#	set_temp_variable = { tag_to_release = overlord }
#	#	GLC = { set_transfer_target_cores = yes }
#	#	transfer_targeted_territory = yes
#	#	recheck_annexations = yes
#	#}
#
#	option = { #Integrate
#		log = "[GetLogInfo]: event annexation.1017 option annexation.integration"
#		name = annexation.integration
#		trigger = {
#			annexations_can_annex = yes
#		}
#		#GLC = { add_claim_of_ROOT_on_valid_cores = yes }
#		recheck_annexations = yes
#	}
#
#	option = { #Cancel
#		log = "[GetLogInfo]: event annexation.1017 option annexation.cancel"
#		name = annexation.cancel
#		ai_chance = { base = 0 }
#		recheck_annexations = yes
#	}
#}
